{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":69,"index":200}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":201},"end":{"line":4,"column":48,"index":249}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.ConversionProvider=function({children:e}){const{user:o}=(0,s.useAuth)(),[_,E]=(0,t.useState)(0),[f,C]=(0,t.useState)(0),[O,S]=(0,t.useState)(0),[I,T]=(0,t.useState)(!1),[w,P]=(0,t.useState)(null),[p,R]=(0,t.useState)(!0),[A,v]=(0,t.useState)(null),[L,D]=(0,t.useState)(null);(0,t.useEffect)(()=>{M()},[o]);const M=async()=>{try{const[e,t,s,u,l]=await Promise.all([n.default.getItem(c.ACTIONS_COUNT),n.default.getItem(c.EXPORTS_COUNT),n.default.getItem(c.WELCOME_SEEN),n.default.getItem(c.WELCOME_EXPIRY),n.default.getItem(c.REFERRAL_CODE)]);e&&E(parseInt(e,10)),t&&C(parseInt(t,10)),s&&R('true'===s),u&&v(new Date(u)),l&&D(l),!s&&o&&N()}catch(e){console.log('Error loading conversion data:',e)}},N=async()=>{const e=new Date;e.setHours(e.getHours()+24),v(e),R(!1),T(!0),P('welcome'),await n.default.setItem(c.WELCOME_EXPIRY,e.toISOString())},h=async e=>{const t=await n.default.getItem(c.LAST_PROMPT_DATE);if(t){const o=new Date(t);if((Date.now()-o.getTime())/36e5<24&&'welcome'!==e)return}T(!0),P(e),await n.default.setItem(c.LAST_PROMPT_DATE,(new Date).toISOString())},y=!!A&&new Date<A;return(0,u.jsx)(l.Provider,{value:{actionsCount:_,exportsCount:f,personsCount:O,shouldShowPremiumPrompt:I,promptType:w,trackAction:async e=>{const t=_+1;if(E(t),await n.default.setItem(c.ACTIONS_COUNT,t.toString()),'export'===e){const e=f+1;C(e),await n.default.setItem(c.EXPORTS_COUNT,e.toString()),h('export')}'add_person'===e&&O>0&&O%5==0&&O>=10&&h('tree_size')},setPersonsCount:e=>{S(e),10===e&&h('tree_size')},dismissPrompt:async()=>{T(!1),P(null),p||(R(!0),await n.default.setItem(c.WELCOME_SEEN,'true'))},hasSeenWelcomeOffer:p,welcomeOfferExpiry:A,isWelcomeOfferValid:y,referralCode:L,generateReferralCode:()=>{if(L)return L;const e=`AILA${Math.random().toString(36).substring(2,8).toUpperCase()}`;return D(e),n.default.setItem(c.REFERRAL_CODE,e),e}},children:e})},_e.useConversion=function(){const e=(0,t.useContext)(l);if(void 0===e)throw new Error('useConversion must be used within a ConversionProvider');return e};var e,t=r(d[0]),o=r(d[1]),n=(e=o)&&e.__esModule?e:{default:e},s=r(d[2]),u=r(d[3]);const l=(0,t.createContext)(void 0),c={ACTIONS_COUNT:'aila_actions_count',EXPORTS_COUNT:'aila_exports_count',WELCOME_SEEN:'aila_welcome_seen',WELCOME_EXPIRY:'aila_welcome_expiry',LAST_PROMPT_DATE:'aila_last_prompt',REFERRAL_CODE:'aila_referral_code'}});","lineCount":1,"map":[[1,92,42,0,"_e"],[1,95,42,0,"ConversionProvider"],[1,114,42,7],[1,124,42,35,"children"],[1,133,42,37,"children"],[1,137,43,2],[1,143,43,8,"user"],[1,148,43,10,"user"],[1,152,43,19],[1,154,43,19,"useAuth"],[1,156,43,26,"useAuth"],[1,168,45,9,"actionsCount"],[1,170,45,23,"setActionsCount"],[1,174,45,42],[1,176,45,42,"useState"],[1,178,45,50,"useState"],[1,188,45,51],[1,192,46,9,"exportsCount"],[1,194,46,23,"setExportsCount"],[1,198,46,42],[1,200,46,42,"useState"],[1,202,46,50,"useState"],[1,212,46,51],[1,216,47,9,"personsCount"],[1,218,47,23,"setPersonsCountState"],[1,222,47,47],[1,224,47,47,"useState"],[1,226,47,55,"useState"],[1,236,47,56],[1,240,48,9,"shouldShowPremiumPrompt"],[1,242,48,34,"setShouldShowPremiumPrompt"],[1,246,48,64],[1,248,48,64,"useState"],[1,250,48,72,"useState"],[1,261,48,73],[1,265,49,9,"promptType"],[1,267,49,21,"setPromptType"],[1,271,49,38],[1,273,49,38,"useState"],[1,275,49,46,"useState"],[1,285,49,107],[1,292,50,9,"hasSeenWelcomeOffer"],[1,294,50,30,"setHasSeenWelcomeOffer"],[1,298,50,56],[1,300,50,56,"useState"],[1,302,50,64,"useState"],[1,313,50,65],[1,317,51,9,"welcomeOfferExpiry"],[1,319,51,29,"setWelcomeOfferExpiry"],[1,323,51,54],[1,325,51,54,"useState"],[1,327,51,62,"useState"],[1,337,51,76],[1,344,52,9,"referralCode"],[1,346,52,23,"setReferralCode"],[1,350,52,42],[1,352,52,42,"useState"],[1,354,52,50,"useState"],[1,364,52,66],[1,371,55,2],[1,373,55,2,"useEffect"],[1,375,55,11,"useEffect"],[1,386,55,12],[1,391,56,4,"loadSavedData"],[1,396,57,5],[1,397,57,6,"user"],[1,401,59,2],[1,407,59,8,"loadSavedData"],[1,409,59,24,"async"],[1,419,60,4],[1,423,61,6],[1,429,61,13,"actions"],[1,431,61,22,"exports"],[1,433,61,31,"welcomeSeen"],[1,435,61,44,"welcomeExp"],[1,437,61,56,"refCode"],[1,446,61,73,"Promise"],[1,454,61,81,"all"],[1,458,61,85],[1,459,62,8,"AsyncStorage"],[1,461,62,20,"default"],[1,469,62,21,"getItem"],[1,477,62,29,"STORAGE_KEYS"],[1,479,62,42,"ACTIONS_COUNT"],[1,494,63,8,"AsyncStorage"],[1,496,63,20,"default"],[1,504,63,21,"getItem"],[1,512,63,29,"STORAGE_KEYS"],[1,514,63,42,"EXPORTS_COUNT"],[1,529,64,8,"AsyncStorage"],[1,531,64,20,"default"],[1,539,64,21,"getItem"],[1,547,64,29,"STORAGE_KEYS"],[1,549,64,42,"WELCOME_SEEN"],[1,563,65,8,"AsyncStorage"],[1,565,65,20,"default"],[1,573,65,21,"getItem"],[1,581,65,29,"STORAGE_KEYS"],[1,583,65,42,"WELCOME_EXPIRY"],[1,599,66,8,"AsyncStorage"],[1,601,66,20,"default"],[1,609,66,21,"getItem"],[1,617,66,29,"STORAGE_KEYS"],[1,619,66,42,"REFERRAL_CODE"],[1,636,69,10,"actions"],[1,639,69,19,"setActionsCount"],[1,641,69,35,"parseInt"],[1,650,69,44,"actions"],[1,652,69,53],[1,657,70,10,"exports"],[1,660,70,19,"setExportsCount"],[1,662,70,35,"parseInt"],[1,671,70,44,"exports"],[1,673,70,53],[1,678,71,10,"welcomeSeen"],[1,681,71,23,"setHasSeenWelcomeOffer"],[1,683,71,62],[1,692,71,46,"welcomeSeen"],[1,695,72,10,"welcomeExp"],[1,698,72,22,"setWelcomeOfferExpiry"],[1,700,72,44],[1,704,72,48,"Date"],[1,709,72,53,"welcomeExp"],[1,713,73,10,"refCode"],[1,716,73,19,"setReferralCode"],[1,718,73,35,"refCode"],[1,722,76,11,"welcomeSeen"],[1,725,76,26,"user"],[1,728,77,8,"showWelcomeOffer"],[1,731,79,4],[1,732,79,6],[1,738,79,13,"error"],[1,741,80,6,"console"],[1,749,80,14,"log"],[1,753,80,18],[1,786,80,52,"error"],[1,788,81,4],[1,791,84,8,"showWelcomeOffer"],[1,793,84,27,"async"],[1,803,85,4],[1,809,85,10,"expiry"],[1,811,85,19],[1,815,85,23,"Date"],[1,820,86,4,"expiry"],[1,822,86,11,"setHours"],[1,831,86,20,"expiry"],[1,833,86,27,"getHours"],[1,844,86,40],[1,848,88,4,"setWelcomeOfferExpiry"],[1,850,88,26,"expiry"],[1,853,89,4,"setHasSeenWelcomeOffer"],[1,856,89,27],[1,859,90,4,"setShouldShowPremiumPrompt"],[1,862,90,31],[1,865,91,4,"setPromptType"],[1,867,91,18],[1,884,93,10,"AsyncStorage"],[1,886,93,22,"default"],[1,894,93,23,"setItem"],[1,902,93,31,"STORAGE_KEYS"],[1,904,93,44,"WELCOME_EXPIRY"],[1,919,93,60,"expiry"],[1,921,93,67,"toISOString"],[1,937,125,8,"triggerPrompt"],[1,939,125,24,"async"],[1,949,127,4],[1,955,127,10,"lastPrompt"],[1,963,127,29,"AsyncStorage"],[1,965,127,41,"default"],[1,973,127,42,"getItem"],[1,981,127,50,"STORAGE_KEYS"],[1,983,127,63,"LAST_PROMPT_DATE"],[1,1001,128,4],[1,1004,128,8,"lastPrompt"],[1,1006,128,20],[1,1007,129,6],[1,1013,129,12,"lastDate"],[1,1015,129,23],[1,1019,129,27,"Date"],[1,1024,129,32,"lastPrompt"],[1,1027,131,6],[1,1031,130,26,"Date"],[1,1036,130,31,"now"],[1,1042,130,39,"lastDate"],[1,1044,130,48,"getTime"],[1,1055,130,57],[1,1060,131,23],[1,1064,131,38],[1,1076,131,29,"type"],[1,1078,132,8],[1,1084,134,4],[1,1085,136,4,"setShouldShowPremiumPrompt"],[1,1088,136,31],[1,1091,137,4,"setPromptType"],[1,1093,137,18,"type"],[1,1102,138,10,"AsyncStorage"],[1,1104,138,22,"default"],[1,1112,138,23,"setItem"],[1,1120,138,31,"STORAGE_KEYS"],[1,1122,138,44,"LAST_PROMPT_DATE"],[1,1140,138,62],[1,1144,138,66,"Date"],[1,1150,138,73,"toISOString"],[1,1166,161,8,"isWelcomeOfferValid"],[1,1170,161,30,"welcomeOfferExpiry"],[1,1173,161,51],[1,1177,161,55,"Date"],[1,1182,161,64,"welcomeOfferExpiry"],[1,1184,163,2],[1,1191,164,4],[1,1193,164,4,"_reactJsxRuntime"],[1,1195,164,4,"jsx"],[1,1200,164,5,"ConversionContext"],[1,1202,164,23,"Provider"],[1,1211,164,31],[1,1212,165,6,"value"],[1,1218,165,13],[1,1219,166,8,"actionsCount"],[1,1234,167,8,"exportsCount"],[1,1249,168,8,"personsCount"],[1,1264,169,8,"shouldShowPremiumPrompt"],[1,1290,170,8,"promptType"],[1,1303,171,8,"trackAction"],[1,1315,96,22,"async"],[1,1325,97,4],[1,1331,97,10,"newCount"],[1,1333,97,21,"actionsCount"],[1,1335,97,36],[1,1337,101,4],[1,1340,98,4,"setActionsCount"],[1,1342,98,20,"newCount"],[1,1351,99,10,"AsyncStorage"],[1,1353,99,22,"default"],[1,1361,99,23,"setItem"],[1,1369,99,31,"STORAGE_KEYS"],[1,1371,99,44,"ACTIONS_COUNT"],[1,1385,99,59,"newCount"],[1,1387,99,68,"toString"],[1,1399,101,19],[1,1410,101,8,"action"],[1,1412,101,29],[1,1413,102,6],[1,1419,102,12,"newExports"],[1,1421,102,25,"exportsCount"],[1,1423,102,40],[1,1425,103,6,"setExportsCount"],[1,1427,103,22,"newExports"],[1,1436,104,12,"AsyncStorage"],[1,1438,104,24,"default"],[1,1446,104,25,"setItem"],[1,1454,104,33,"STORAGE_KEYS"],[1,1456,104,46,"EXPORTS_COUNT"],[1,1470,104,61,"newExports"],[1,1472,104,72,"toString"],[1,1484,107,6,"triggerPrompt"],[1,1486,107,20],[1,1495,108,4],[1,1496,111,19],[1,1511,111,8,"action"],[1,1514,111,35,"personsCount"],[1,1516,111,50],[1,1519,111,55,"personsCount"],[1,1521,111,70],[1,1524,111,76],[1,1527,111,81,"personsCount"],[1,1530,111,97],[1,1534,112,6,"triggerPrompt"],[1,1536,112,20],[1,1550,172,8,"setPersonsCount"],[1,1566,116,27,"count"],[1,1570,117,4,"setPersonsCountState"],[1,1572,117,25,"count"],[1,1575,120,18],[1,1580,120,8,"count"],[1,1583,121,6,"triggerPrompt"],[1,1585,121,20],[1,1599,173,8,"dismissPrompt"],[1,1613,141,24,"async"],[1,1623,142,4,"setShouldShowPremiumPrompt"],[1,1626,142,31],[1,1629,143,4,"setPromptType"],[1,1631,143,18],[1,1637,145,9,"hasSeenWelcomeOffer"],[1,1641,146,6,"setHasSeenWelcomeOffer"],[1,1644,146,29],[1,1653,147,12,"AsyncStorage"],[1,1655,147,24,"default"],[1,1663,147,25,"setItem"],[1,1671,147,33,"STORAGE_KEYS"],[1,1673,147,46,"WELCOME_SEEN"],[1,1686,147,60],[1,1696,174,8,"hasSeenWelcomeOffer"],[1,1718,175,8,"welcomeOfferExpiry"],[1,1739,176,8,"isWelcomeOfferValid"],[1,1761,177,8,"referralCode"],[1,1776,178,8,"generateReferralCode"],[1,1797,151,31,"generateReferralCode"],[1,1802,152,4],[1,1805,152,8,"referralCode"],[1,1807,152,22],[1,1814,152,29,"referralCode"],[1,1816,155,4],[1,1822,155,10,"code"],[1,1824,155,17],[1,1831,155,24,"Math"],[1,1836,155,29,"random"],[1,1845,155,38,"toString"],[1,1854,155,47],[1,1858,155,51,"substring"],[1,1868,155,61],[1,1870,155,64],[1,1873,155,67,"toUpperCase"],[1,1889,158,4],[1,1896,156,4,"setReferralCode"],[1,1898,156,20,"code"],[1,1901,157,4,"AsyncStorage"],[1,1903,157,16,"default"],[1,1911,157,17,"setItem"],[1,1919,157,25,"STORAGE_KEYS"],[1,1921,157,38,"REFERRAL_CODE"],[1,1935,157,53,"code"],[1,1938,158,11,"code"],[1,1942,179,8,"children"],[1,1951,181,7,"children"],[1,1954,184,0],[1,1956,186,0,"_e"],[1,1959,186,0,"useConversion"],[1,1973,186,7],[1,1984,187,2],[1,1990,187,8,"context"],[1,1993,187,18],[1,1995,187,18,"useContext"],[1,1997,187,28,"useContext"],[1,2009,187,29,"ConversionContext"],[1,2012,188,2],[1,2020,188,18,"undefined"],[1,2024,188,6,"context"],[1,2026,189,4],[1,2032,189,10],[1,2036,189,14,"Error"],[1,2042,189,20],[1,2100,191,2],[1,2107,191,9,"context"],[1,2108,192,0],[1,2110,1,0],[1,2114],[1,2116,1,0,"_react"],[1,2118,1,0,"r"],[1,2120,1,0,"d"],[1,2122,1,0],[1,2126,3,0,"_reactNativeAsyncStorageAsyncStorage"],[1,2128,3,0,"r"],[1,2130,3,0,"d"],[1,2132,3,0],[1,2136,3,0,"AsyncStorage"],[1,2139],[1,2141,3,0,"_reactNativeAsyncStorageAsyncStorage"],[1,2145],[1,2172,4,0,"_AuthContext"],[1,2174,4,0,"r"],[1,2176,4,0,"d"],[1,2178,4,0],[1,2182,4,48,"_reactJsxRuntime"],[1,2184,4,48,"r"],[1,2186,4,48,"d"],[1,2188,4,48],[1,2192,31,0],[1,2198,31,6,"ConversionContext"],[1,2201,31,26],[1,2203,31,26,"createContext"],[1,2205,31,39,"createContext"],[1,2225,31,75,"undefined"],[1,2228,33,6,"STORAGE_KEYS"],[1,2230,33,21],[1,2231,34,2,"ACTIONS_COUNT"],[1,2245,34,17],[1,2266,35,2,"EXPORTS_COUNT"],[1,2280,35,17],[1,2301,36,2,"WELCOME_SEEN"],[1,2314,36,16],[1,2334,37,2,"WELCOME_EXPIRY"],[1,2349,37,18],[1,2371,38,2,"LAST_PROMPT_DATE"],[1,2388,38,20],[1,2407,39,2,"REFERRAL_CODE"],[1,2421,39,17],[1,2442,192,1],[1,2445]],"functionMap":{"names":["<global>","ConversionProvider","useEffect$argument_0","loadSavedData","showWelcomeOffer","trackAction","setPersonsCount","triggerPrompt","dismissPrompt","generateReferralCode","useConversion"],"mappings":"AAA;OCyC;YCa;GDE;wBEE;GFuB;2BGE;GHU;sBIE;GJkB;0BKE;GLO;wBME;GNc;wBOE;GPQ;+BQE;GRQ;CDyB;OUE;CVM"},"hasCjsExports":false},"type":"js/module"}]}