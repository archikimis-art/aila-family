{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          api.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('auth_token');\n        delete api.default.defaults.headers.common['Authorization'];\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      setUser(userData);\n    };\n    const register = async data => {\n      const response = await api.default.post('/auth/register', data);\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      delete api.default.defaults.headers.common['Authorization'];\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        await logout();\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":123,"map":[[15,2,34,0,"Object"],[15,8,34,0],[15,9,34,0,"defineProperty"],[15,23,34,0],[15,24,34,0,"exports"],[15,31,34,0],[16,4,34,0,"enumerable"],[16,14,34,0],[17,4,34,0,"get"],[17,7,34,0],[17,18,34,0,"get"],[17,19,34,0],[18,6,34,0],[18,13,34,0,"AuthProvider"],[18,25,34,0],[19,4,34,0],[20,2,34,0],[21,2,98,0,"Object"],[21,8,98,0],[21,9,98,0,"defineProperty"],[21,23,98,0],[21,24,98,0,"exports"],[21,31,98,0],[22,4,98,0,"enumerable"],[22,14,98,0],[23,4,98,0,"get"],[23,7,98,0],[23,18,98,0,"get"],[23,19,98,0],[24,6,98,0],[24,13,98,0,"useAuth"],[24,20,98,0],[25,4,98,0],[26,2,98,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,0],[31,6,3,0,"api"],[31,9,3,0],[31,12,3,0,"_interopDefault"],[31,27,3,0],[31,28,3,0,"_servicesApi"],[31,40,3,0],[32,2,3,34],[32,6,3,34,"_reactJsxDevRuntime"],[32,25,3,34],[32,28,3,34,"require"],[32,35,3,34],[32,36,3,34,"_dependencyMap"],[32,50,3,34],[33,2,32,0],[33,8,32,6,"AuthContext"],[33,19,32,17],[33,35,32,20],[33,39,32,20,"createContext"],[33,45,32,33],[33,46,32,33,"createContext"],[33,59,32,33],[33,61,32,63,"undefined"],[33,70,32,72],[33,71,32,73],[34,2,34,7],[34,8,34,13,"AuthProvider"],[34,20,34,60],[34,23,34,63,"AuthProvider"],[34,24,34,64],[35,4,34,66,"children"],[36,2,34,75],[36,3,34,76],[36,8,34,81],[37,4,34,81,"_s"],[37,6,34,81],[38,4,35,2],[38,10,35,8],[38,11,35,9,"user"],[38,15,35,13],[38,17,35,15,"setUser"],[38,24,35,22],[38,25,35,23],[38,28,35,26],[38,32,35,26,"useState"],[38,38,35,34],[38,39,35,34,"useState"],[38,47,35,34],[38,49,35,48],[38,53,35,52],[38,54,35,53],[39,4,36,2],[39,10,36,8],[39,11,36,9,"loading"],[39,18,36,16],[39,20,36,18,"setLoading"],[39,30,36,28],[39,31,36,29],[39,34,36,32],[39,38,36,32,"useState"],[39,44,36,40],[39,45,36,40,"useState"],[39,53,36,40],[39,55,36,41],[39,59,36,45],[39,60,36,46],[40,4,38,2],[40,8,38,2,"useEffect"],[40,14,38,11],[40,15,38,11,"useEffect"],[40,24,38,11],[40,26,38,12],[40,32,38,18],[41,6,39,4,"checkAuth"],[41,15,39,13],[41,16,39,14],[41,17,39,15],[42,4,40,2],[42,5,40,3],[42,7,40,5],[42,9,40,7],[42,10,40,8],[43,4,42,2],[43,10,42,8,"checkAuth"],[43,19,42,17],[43,22,42,20],[43,28,42,20,"checkAuth"],[43,29,42,20],[43,34,42,32],[44,6,43,4],[44,10,43,8],[45,8,44,6],[45,14,44,12,"token"],[45,19,44,17],[45,22,44,20],[45,28,44,26,"AsyncStorage"],[45,40,44,38],[45,41,44,38,"default"],[45,48,44,38],[45,49,44,39,"getItem"],[45,56,44,46],[45,57,44,47],[45,69,44,59],[45,70,44,60],[46,8,45,6],[46,12,45,10,"token"],[46,17,45,15],[46,19,45,17],[47,10,46,8,"api"],[47,13,46,11],[47,14,46,11,"default"],[47,21,46,11],[47,22,46,12,"defaults"],[47,30,46,20],[47,31,46,21,"headers"],[47,38,46,28],[47,39,46,29,"common"],[47,45,46,35],[47,46,46,36],[47,61,46,51],[47,62,46,52],[47,65,46,55],[47,75,46,65,"token"],[47,80,46,70],[47,82,46,72],[48,10,47,8],[48,16,47,14,"response"],[48,24,47,22],[48,27,47,25],[48,33,47,31,"api"],[48,36,47,34],[48,37,47,34,"default"],[48,44,47,34],[48,45,47,35,"get"],[48,48,47,38],[48,49,47,39],[48,59,47,49],[48,60,47,50],[49,10,48,8,"setUser"],[49,17,48,15],[49,18,48,16,"response"],[49,26,48,24],[49,27,48,25,"data"],[49,31,48,29],[49,32,48,30],[50,8,49,6],[51,6,50,4],[51,7,50,5],[51,8,50,6],[51,15,50,13,"error"],[51,20,50,18],[51,22,50,20],[52,8,51,6],[52,14,51,12,"AsyncStorage"],[52,26,51,24],[52,27,51,24,"default"],[52,34,51,24],[52,35,51,25,"removeItem"],[52,45,51,35],[52,46,51,36],[52,58,51,48],[52,59,51,49],[53,8,52,6],[53,15,52,13,"api"],[53,18,52,16],[53,19,52,16,"default"],[53,26,52,16],[53,27,52,17,"defaults"],[53,35,52,25],[53,36,52,26,"headers"],[53,43,52,33],[53,44,52,34,"common"],[53,50,52,40],[53,51,52,41],[53,66,52,56],[53,67,52,57],[54,6,53,4],[54,7,53,5],[54,16,53,14],[55,8,54,6,"setLoading"],[55,18,54,16],[55,19,54,17],[55,24,54,22],[55,25,54,23],[56,6,55,4],[57,4,56,2],[57,5,56,3],[58,4,58,2],[58,10,58,8,"login"],[58,15,58,13],[58,18,58,16],[58,24,58,16,"login"],[58,25,58,23,"email"],[58,30,58,36],[58,32,58,38,"password"],[58,40,58,54],[58,45,58,59],[59,6,59,4],[59,12,59,10,"response"],[59,20,59,18],[59,23,59,21],[59,29,59,27,"api"],[59,32,59,30],[59,33,59,30,"default"],[59,40,59,30],[59,41,59,31,"post"],[59,45,59,35],[59,46,59,36],[59,59,59,49],[59,61,59,51],[60,8,59,53,"email"],[60,13,59,58],[61,8,59,60,"password"],[62,6,59,69],[62,7,59,70],[62,8,59,71],[63,6,60,4],[63,12,60,10],[64,8,60,12,"access_token"],[64,20,60,24],[65,8,60,26,"user"],[65,12,60,30],[65,14,60,32,"userData"],[66,6,60,41],[66,7,60,42],[66,10,60,45,"response"],[66,18,60,53],[66,19,60,54,"data"],[66,23,60,58],[67,6,62,4],[67,12,62,10,"AsyncStorage"],[67,24,62,22],[67,25,62,22,"default"],[67,32,62,22],[67,33,62,23,"setItem"],[67,40,62,30],[67,41,62,31],[67,53,62,43],[67,55,62,45,"access_token"],[67,67,62,57],[67,68,62,58],[68,6,63,4,"api"],[68,9,63,7],[68,10,63,7,"default"],[68,17,63,7],[68,18,63,8,"defaults"],[68,26,63,16],[68,27,63,17,"headers"],[68,34,63,24],[68,35,63,25,"common"],[68,41,63,31],[68,42,63,32],[68,57,63,47],[68,58,63,48],[68,61,63,51],[68,71,63,61,"access_token"],[68,83,63,73],[68,85,63,75],[69,6,64,4,"setUser"],[69,13,64,11],[69,14,64,12,"userData"],[69,22,64,20],[69,23,64,21],[70,4,65,2],[70,5,65,3],[71,4,67,2],[71,10,67,8,"register"],[71,18,67,16],[71,21,67,19],[71,27,67,26,"data"],[71,31,67,44],[71,35,67,49],[72,6,68,4],[72,12,68,10,"response"],[72,20,68,18],[72,23,68,21],[72,29,68,27,"api"],[72,32,68,30],[72,33,68,30,"default"],[72,40,68,30],[72,41,68,31,"post"],[72,45,68,35],[72,46,68,36],[72,62,68,52],[72,64,68,54,"data"],[72,68,68,58],[72,69,68,59],[73,6,69,4],[73,12,69,10],[74,8,69,12,"access_token"],[74,20,69,24],[75,8,69,26,"user"],[75,12,69,30],[75,14,69,32,"userData"],[76,6,69,41],[76,7,69,42],[76,10,69,45,"response"],[76,18,69,53],[76,19,69,54,"data"],[76,23,69,58],[77,6,71,4],[77,12,71,10,"AsyncStorage"],[77,24,71,22],[77,25,71,22,"default"],[77,32,71,22],[77,33,71,23,"setItem"],[77,40,71,30],[77,41,71,31],[77,53,71,43],[77,55,71,45,"access_token"],[77,67,71,57],[77,68,71,58],[78,6,72,4,"api"],[78,9,72,7],[78,10,72,7,"default"],[78,17,72,7],[78,18,72,8,"defaults"],[78,26,72,16],[78,27,72,17,"headers"],[78,34,72,24],[78,35,72,25,"common"],[78,41,72,31],[78,42,72,32],[78,57,72,47],[78,58,72,48],[78,61,72,51],[78,71,72,61,"access_token"],[78,83,72,73],[78,85,72,75],[79,6,73,4,"setUser"],[79,13,73,11],[79,14,73,12,"userData"],[79,22,73,20],[79,23,73,21],[80,4,74,2],[80,5,74,3],[81,4,76,2],[81,10,76,8,"logout"],[81,16,76,14],[81,19,76,17],[81,25,76,17,"logout"],[81,26,76,17],[81,31,76,29],[82,6,77,4],[82,12,77,10,"AsyncStorage"],[82,24,77,22],[82,25,77,22,"default"],[82,32,77,22],[82,33,77,23,"removeItem"],[82,43,77,33],[82,44,77,34],[82,56,77,46],[82,57,77,47],[83,6,78,4],[83,13,78,11,"api"],[83,16,78,14],[83,17,78,14,"default"],[83,24,78,14],[83,25,78,15,"defaults"],[83,33,78,23],[83,34,78,24,"headers"],[83,41,78,31],[83,42,78,32,"common"],[83,48,78,38],[83,49,78,39],[83,64,78,54],[83,65,78,55],[84,6,79,4,"setUser"],[84,13,79,11],[84,14,79,12],[84,18,79,16],[84,19,79,17],[85,4,80,2],[85,5,80,3],[86,4,82,2],[86,10,82,8,"refreshUser"],[86,21,82,19],[86,24,82,22],[86,30,82,22,"refreshUser"],[86,31,82,22],[86,36,82,34],[87,6,83,4],[87,10,83,8],[88,8,84,6],[88,14,84,12,"response"],[88,22,84,20],[88,25,84,23],[88,31,84,29,"api"],[88,34,84,32],[88,35,84,32,"default"],[88,42,84,32],[88,43,84,33,"get"],[88,46,84,36],[88,47,84,37],[88,57,84,47],[88,58,84,48],[89,8,85,6,"setUser"],[89,15,85,13],[89,16,85,14,"response"],[89,24,85,22],[89,25,85,23,"data"],[89,29,85,27],[89,30,85,28],[90,6,86,4],[90,7,86,5],[90,8,86,6],[90,15,86,13,"error"],[90,20,86,18],[90,22,86,20],[91,8,87,6],[91,14,87,12,"logout"],[91,20,87,18],[91,21,87,19],[91,22,87,20],[92,6,88,4],[93,4,89,2],[93,5,89,3],[94,4,91,2],[94,24,92,4],[94,28,92,4,"_reactJsxDevRuntime"],[94,47,92,4],[94,48,92,4,"jsxDEV"],[94,54,92,4],[94,56,92,5,"AuthContext"],[94,67,92,16],[94,68,92,17,"Provider"],[94,76,92,25],[95,6,92,26,"value"],[95,11,92,31],[95,13,92,33],[96,8,92,35,"user"],[96,12,92,39],[97,8,92,41,"loading"],[97,15,92,48],[98,8,92,50,"login"],[98,13,92,55],[99,8,92,57,"register"],[99,16,92,65],[100,8,92,67,"logout"],[100,14,92,73],[101,8,92,75,"refreshUser"],[102,6,92,87],[102,7,92,89],[103,6,92,89,"children"],[103,14,92,89],[103,16,93,7,"children"],[104,4,93,15],[105,6,93,15,"fileName"],[105,14,93,15],[105,16,93,15,"_jsxFileName"],[105,28,93,15],[106,6,93,15,"lineNumber"],[106,16,93,15],[107,6,93,15,"columnNumber"],[107,18,93,15],[108,4,93,15],[108,11,94,26],[108,12,94,27],[109,2,96,0],[109,3,96,1],[110,2,96,2,"_s"],[110,4,96,2],[110,5,34,13,"AuthProvider"],[110,17,34,60],[111,2,34,60,"_c"],[111,4,34,60],[111,7,34,13,"AuthProvider"],[111,19,34,60],[112,2,98,7],[112,8,98,13,"useAuth"],[112,15,98,20],[112,18,98,23,"useAuth"],[112,19,98,23],[112,24,98,29],[113,4,98,29,"_s2"],[113,7,98,29],[114,4,99,2],[114,10,99,8,"context"],[114,17,99,15],[114,20,99,18],[114,24,99,18,"useContext"],[114,30,99,28],[114,31,99,28,"useContext"],[114,41,99,28],[114,43,99,29,"AuthContext"],[114,54,99,40],[114,55,99,41],[115,4,100,2],[115,8,100,6,"context"],[115,15,100,13],[115,20,100,18,"undefined"],[115,29,100,27],[115,31,100,29],[116,6,101,4],[116,12,101,10],[116,16,101,14,"Error"],[116,21,101,19],[116,22,101,20],[116,67,101,65],[116,68,101,66],[117,4,102,2],[118,4,103,2],[118,11,103,9,"context"],[118,18,103,16],[119,2,104,0],[119,3,104,1],[120,2,104,2,"_s2"],[120,5,104,2],[120,6,98,13,"useAuth"],[120,13,98,20],[121,2,98,20],[121,6,98,20,"_c"],[121,8,98,20],[122,2,98,20,"$RefreshReg$"],[122,14,98,20],[122,15,98,20,"_c"],[122,17,98,20],[123,0,98,20],[123,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;+DCiC;YCI;GDE;oBEE;GFc;gBGE;GHO;mBIE;GJO;iBKE;GLI;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}