{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          api.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('auth_token');\n        delete api.default.defaults.headers.common['Authorization'];\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      setUser(userData);\n    };\n    const register = async data => {\n      const response = await api.default.post('/auth/register', data);\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      delete api.default.defaults.headers.common['Authorization'];\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        await logout();\n      }\n    };\n    const isAdmin = () => {\n      return user?.role === 'admin';\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser,\n        isAdmin\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":127,"map":[[15,2,36,0,"Object"],[15,8,36,0],[15,9,36,0,"defineProperty"],[15,23,36,0],[15,24,36,0,"exports"],[15,31,36,0],[16,4,36,0,"enumerable"],[16,14,36,0],[17,4,36,0,"get"],[17,7,36,0],[17,18,36,0,"get"],[17,19,36,0],[18,6,36,0],[18,13,36,0,"AuthProvider"],[18,25,36,0],[19,4,36,0],[20,2,36,0],[21,2,104,0,"Object"],[21,8,104,0],[21,9,104,0,"defineProperty"],[21,23,104,0],[21,24,104,0,"exports"],[21,31,104,0],[22,4,104,0,"enumerable"],[22,14,104,0],[23,4,104,0,"get"],[23,7,104,0],[23,18,104,0,"get"],[23,19,104,0],[24,6,104,0],[24,13,104,0,"useAuth"],[24,20,104,0],[25,4,104,0],[26,2,104,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,0],[31,6,3,0,"api"],[31,9,3,0],[31,12,3,0,"_interopDefault"],[31,27,3,0],[31,28,3,0,"_servicesApi"],[31,40,3,0],[32,2,3,34],[32,6,3,34,"_reactJsxDevRuntime"],[32,25,3,34],[32,28,3,34,"require"],[32,35,3,34],[32,36,3,34,"_dependencyMap"],[32,50,3,34],[33,2,34,0],[33,8,34,6,"AuthContext"],[33,19,34,17],[33,35,34,20],[33,39,34,20,"createContext"],[33,45,34,33],[33,46,34,33,"createContext"],[33,59,34,33],[33,61,34,63,"undefined"],[33,70,34,72],[33,71,34,73],[34,2,36,7],[34,8,36,13,"AuthProvider"],[34,20,36,60],[34,23,36,63,"AuthProvider"],[34,24,36,64],[35,4,36,66,"children"],[36,2,36,75],[36,3,36,76],[36,8,36,81],[37,4,36,81,"_s"],[37,6,36,81],[38,4,37,2],[38,10,37,8],[38,11,37,9,"user"],[38,15,37,13],[38,17,37,15,"setUser"],[38,24,37,22],[38,25,37,23],[38,28,37,26],[38,32,37,26,"useState"],[38,38,37,34],[38,39,37,34,"useState"],[38,47,37,34],[38,49,37,48],[38,53,37,52],[38,54,37,53],[39,4,38,2],[39,10,38,8],[39,11,38,9,"loading"],[39,18,38,16],[39,20,38,18,"setLoading"],[39,30,38,28],[39,31,38,29],[39,34,38,32],[39,38,38,32,"useState"],[39,44,38,40],[39,45,38,40,"useState"],[39,53,38,40],[39,55,38,41],[39,59,38,45],[39,60,38,46],[40,4,40,2],[40,8,40,2,"useEffect"],[40,14,40,11],[40,15,40,11,"useEffect"],[40,24,40,11],[40,26,40,12],[40,32,40,18],[41,6,41,4,"checkAuth"],[41,15,41,13],[41,16,41,14],[41,17,41,15],[42,4,42,2],[42,5,42,3],[42,7,42,5],[42,9,42,7],[42,10,42,8],[43,4,44,2],[43,10,44,8,"checkAuth"],[43,19,44,17],[43,22,44,20],[43,28,44,20,"checkAuth"],[43,29,44,20],[43,34,44,32],[44,6,45,4],[44,10,45,8],[45,8,46,6],[45,14,46,12,"token"],[45,19,46,17],[45,22,46,20],[45,28,46,26,"AsyncStorage"],[45,40,46,38],[45,41,46,38,"default"],[45,48,46,38],[45,49,46,39,"getItem"],[45,56,46,46],[45,57,46,47],[45,69,46,59],[45,70,46,60],[46,8,47,6],[46,12,47,10,"token"],[46,17,47,15],[46,19,47,17],[47,10,48,8,"api"],[47,13,48,11],[47,14,48,11,"default"],[47,21,48,11],[47,22,48,12,"defaults"],[47,30,48,20],[47,31,48,21,"headers"],[47,38,48,28],[47,39,48,29,"common"],[47,45,48,35],[47,46,48,36],[47,61,48,51],[47,62,48,52],[47,65,48,55],[47,75,48,65,"token"],[47,80,48,70],[47,82,48,72],[48,10,49,8],[48,16,49,14,"response"],[48,24,49,22],[48,27,49,25],[48,33,49,31,"api"],[48,36,49,34],[48,37,49,34,"default"],[48,44,49,34],[48,45,49,35,"get"],[48,48,49,38],[48,49,49,39],[48,59,49,49],[48,60,49,50],[49,10,50,8,"setUser"],[49,17,50,15],[49,18,50,16,"response"],[49,26,50,24],[49,27,50,25,"data"],[49,31,50,29],[49,32,50,30],[50,8,51,6],[51,6,52,4],[51,7,52,5],[51,8,52,6],[51,15,52,13,"error"],[51,20,52,18],[51,22,52,20],[52,8,53,6],[52,14,53,12,"AsyncStorage"],[52,26,53,24],[52,27,53,24,"default"],[52,34,53,24],[52,35,53,25,"removeItem"],[52,45,53,35],[52,46,53,36],[52,58,53,48],[52,59,53,49],[53,8,54,6],[53,15,54,13,"api"],[53,18,54,16],[53,19,54,16,"default"],[53,26,54,16],[53,27,54,17,"defaults"],[53,35,54,25],[53,36,54,26,"headers"],[53,43,54,33],[53,44,54,34,"common"],[53,50,54,40],[53,51,54,41],[53,66,54,56],[53,67,54,57],[54,6,55,4],[54,7,55,5],[54,16,55,14],[55,8,56,6,"setLoading"],[55,18,56,16],[55,19,56,17],[55,24,56,22],[55,25,56,23],[56,6,57,4],[57,4,58,2],[57,5,58,3],[58,4,60,2],[58,10,60,8,"login"],[58,15,60,13],[58,18,60,16],[58,24,60,16,"login"],[58,25,60,23,"email"],[58,30,60,36],[58,32,60,38,"password"],[58,40,60,54],[58,45,60,59],[59,6,61,4],[59,12,61,10,"response"],[59,20,61,18],[59,23,61,21],[59,29,61,27,"api"],[59,32,61,30],[59,33,61,30,"default"],[59,40,61,30],[59,41,61,31,"post"],[59,45,61,35],[59,46,61,36],[59,59,61,49],[59,61,61,51],[60,8,61,53,"email"],[60,13,61,58],[61,8,61,60,"password"],[62,6,61,69],[62,7,61,70],[62,8,61,71],[63,6,62,4],[63,12,62,10],[64,8,62,12,"access_token"],[64,20,62,24],[65,8,62,26,"user"],[65,12,62,30],[65,14,62,32,"userData"],[66,6,62,41],[66,7,62,42],[66,10,62,45,"response"],[66,18,62,53],[66,19,62,54,"data"],[66,23,62,58],[67,6,64,4],[67,12,64,10,"AsyncStorage"],[67,24,64,22],[67,25,64,22,"default"],[67,32,64,22],[67,33,64,23,"setItem"],[67,40,64,30],[67,41,64,31],[67,53,64,43],[67,55,64,45,"access_token"],[67,67,64,57],[67,68,64,58],[68,6,65,4,"api"],[68,9,65,7],[68,10,65,7,"default"],[68,17,65,7],[68,18,65,8,"defaults"],[68,26,65,16],[68,27,65,17,"headers"],[68,34,65,24],[68,35,65,25,"common"],[68,41,65,31],[68,42,65,32],[68,57,65,47],[68,58,65,48],[68,61,65,51],[68,71,65,61,"access_token"],[68,83,65,73],[68,85,65,75],[69,6,66,4,"setUser"],[69,13,66,11],[69,14,66,12,"userData"],[69,22,66,20],[69,23,66,21],[70,4,67,2],[70,5,67,3],[71,4,69,2],[71,10,69,8,"register"],[71,18,69,16],[71,21,69,19],[71,27,69,26,"data"],[71,31,69,44],[71,35,69,49],[72,6,70,4],[72,12,70,10,"response"],[72,20,70,18],[72,23,70,21],[72,29,70,27,"api"],[72,32,70,30],[72,33,70,30,"default"],[72,40,70,30],[72,41,70,31,"post"],[72,45,70,35],[72,46,70,36],[72,62,70,52],[72,64,70,54,"data"],[72,68,70,58],[72,69,70,59],[73,6,71,4],[73,12,71,10],[74,8,71,12,"access_token"],[74,20,71,24],[75,8,71,26,"user"],[75,12,71,30],[75,14,71,32,"userData"],[76,6,71,41],[76,7,71,42],[76,10,71,45,"response"],[76,18,71,53],[76,19,71,54,"data"],[76,23,71,58],[77,6,73,4],[77,12,73,10,"AsyncStorage"],[77,24,73,22],[77,25,73,22,"default"],[77,32,73,22],[77,33,73,23,"setItem"],[77,40,73,30],[77,41,73,31],[77,53,73,43],[77,55,73,45,"access_token"],[77,67,73,57],[77,68,73,58],[78,6,74,4,"api"],[78,9,74,7],[78,10,74,7,"default"],[78,17,74,7],[78,18,74,8,"defaults"],[78,26,74,16],[78,27,74,17,"headers"],[78,34,74,24],[78,35,74,25,"common"],[78,41,74,31],[78,42,74,32],[78,57,74,47],[78,58,74,48],[78,61,74,51],[78,71,74,61,"access_token"],[78,83,74,73],[78,85,74,75],[79,6,75,4,"setUser"],[79,13,75,11],[79,14,75,12,"userData"],[79,22,75,20],[79,23,75,21],[80,4,76,2],[80,5,76,3],[81,4,78,2],[81,10,78,8,"logout"],[81,16,78,14],[81,19,78,17],[81,25,78,17,"logout"],[81,26,78,17],[81,31,78,29],[82,6,79,4],[82,12,79,10,"AsyncStorage"],[82,24,79,22],[82,25,79,22,"default"],[82,32,79,22],[82,33,79,23,"removeItem"],[82,43,79,33],[82,44,79,34],[82,56,79,46],[82,57,79,47],[83,6,80,4],[83,13,80,11,"api"],[83,16,80,14],[83,17,80,14,"default"],[83,24,80,14],[83,25,80,15,"defaults"],[83,33,80,23],[83,34,80,24,"headers"],[83,41,80,31],[83,42,80,32,"common"],[83,48,80,38],[83,49,80,39],[83,64,80,54],[83,65,80,55],[84,6,81,4,"setUser"],[84,13,81,11],[84,14,81,12],[84,18,81,16],[84,19,81,17],[85,4,82,2],[85,5,82,3],[86,4,84,2],[86,10,84,8,"refreshUser"],[86,21,84,19],[86,24,84,22],[86,30,84,22,"refreshUser"],[86,31,84,22],[86,36,84,34],[87,6,85,4],[87,10,85,8],[88,8,86,6],[88,14,86,12,"response"],[88,22,86,20],[88,25,86,23],[88,31,86,29,"api"],[88,34,86,32],[88,35,86,32,"default"],[88,42,86,32],[88,43,86,33,"get"],[88,46,86,36],[88,47,86,37],[88,57,86,47],[88,58,86,48],[89,8,87,6,"setUser"],[89,15,87,13],[89,16,87,14,"response"],[89,24,87,22],[89,25,87,23,"data"],[89,29,87,27],[89,30,87,28],[90,6,88,4],[90,7,88,5],[90,8,88,6],[90,15,88,13,"error"],[90,20,88,18],[90,22,88,20],[91,8,89,6],[91,14,89,12,"logout"],[91,20,89,18],[91,21,89,19],[91,22,89,20],[92,6,90,4],[93,4,91,2],[93,5,91,3],[94,4,93,2],[94,10,93,8,"isAdmin"],[94,17,93,15],[94,20,93,18,"isAdmin"],[94,21,93,18],[94,26,93,24],[95,6,94,4],[95,13,94,11,"user"],[95,17,94,15],[95,19,94,17,"role"],[95,23,94,21],[95,28,94,26],[95,35,94,33],[96,4,95,2],[96,5,95,3],[97,4,97,2],[97,24,98,4],[97,28,98,4,"_reactJsxDevRuntime"],[97,47,98,4],[97,48,98,4,"jsxDEV"],[97,54,98,4],[97,56,98,5,"AuthContext"],[97,67,98,16],[97,68,98,17,"Provider"],[97,76,98,25],[98,6,98,26,"value"],[98,11,98,31],[98,13,98,33],[99,8,98,35,"user"],[99,12,98,39],[100,8,98,41,"loading"],[100,15,98,48],[101,8,98,50,"login"],[101,13,98,55],[102,8,98,57,"register"],[102,16,98,65],[103,8,98,67,"logout"],[103,14,98,73],[104,8,98,75,"refreshUser"],[104,19,98,86],[105,8,98,88,"isAdmin"],[106,6,98,96],[106,7,98,98],[107,6,98,98,"children"],[107,14,98,98],[107,16,99,7,"children"],[108,4,99,15],[109,6,99,15,"fileName"],[109,14,99,15],[109,16,99,15,"_jsxFileName"],[109,28,99,15],[110,6,99,15,"lineNumber"],[110,16,99,15],[111,6,99,15,"columnNumber"],[111,18,99,15],[112,4,99,15],[112,11,100,26],[112,12,100,27],[113,2,102,0],[113,3,102,1],[114,2,102,2,"_s"],[114,4,102,2],[114,5,36,13,"AuthProvider"],[114,17,36,60],[115,2,36,60,"_c"],[115,4,36,60],[115,7,36,13,"AuthProvider"],[115,19,36,60],[116,2,104,7],[116,8,104,13,"useAuth"],[116,15,104,20],[116,18,104,23,"useAuth"],[116,19,104,23],[116,24,104,29],[117,4,104,29,"_s2"],[117,7,104,29],[118,4,105,2],[118,10,105,8,"context"],[118,17,105,15],[118,20,105,18],[118,24,105,18,"useContext"],[118,30,105,28],[118,31,105,28,"useContext"],[118,41,105,28],[118,43,105,29,"AuthContext"],[118,54,105,40],[118,55,105,41],[119,4,106,2],[119,8,106,6,"context"],[119,15,106,13],[119,20,106,18,"undefined"],[119,29,106,27],[119,31,106,29],[120,6,107,4],[120,12,107,10],[120,16,107,14,"Error"],[120,21,107,19],[120,22,107,20],[120,67,107,65],[120,68,107,66],[121,4,108,2],[122,4,109,2],[122,11,109,9,"context"],[122,18,109,16],[123,2,110,0],[123,3,110,1],[124,2,110,2,"_s2"],[124,5,110,2],[124,6,104,13,"useAuth"],[124,13,104,20],[125,2,104,20],[125,6,104,20,"_c"],[125,8,104,20],[126,2,104,20,"$RefreshReg$"],[126,14,104,20],[126,15,104,20,"_c"],[126,17,104,20],[127,0,104,20],[127,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","refreshUser","isAdmin","useAuth"],"mappings":"AAA;+DCmC;YCI;GDE;oBEE;GFc;gBGE;GHO;mBIE;GJO;iBKE;GLI;sBME;GNO;kBOE;GPE;CDO;uBSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}