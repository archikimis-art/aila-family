{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";var e=$RefreshSig$(),t=$RefreshSig$();function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return h}});var n=r(d[0],\"react\"),u=o(r(d[1],\"@react-native-async-storage/async-storage\")),s=o(r(d[2],\"../services/api\")),c=r(d[3],\"react/jsx-dev-runtime\");const l=(0,n.createContext)(void 0),f=({children:t})=>{e();const[o,f]=(0,n.useState)(null),[h,v]=(0,n.useState)(!0);(0,n.useEffect)(()=>{w()},[]);const w=async()=>{try{const e=await u.default.getItem('auth_token');if(e){s.default.defaults.headers.common.Authorization=`Bearer ${e}`;const t=await s.default.get('/auth/me');f(t.data)}}catch(e){await u.default.removeItem('auth_token'),delete s.default.defaults.headers.common.Authorization}finally{v(!1)}},y=async()=>{await u.default.removeItem('auth_token'),delete s.default.defaults.headers.common.Authorization,f(null)};return(0,c.jsxDEV)(l.Provider,{value:{user:o,loading:h,login:async(e,t)=>{const o=await s.default.post('/auth/login',{email:e,password:t}),{access_token:n,user:c}=o.data;await u.default.setItem('auth_token',n),s.default.defaults.headers.common.Authorization=`Bearer ${n}`,f(c)},loginWithGoogle:async e=>{const t=await s.default.post('/auth/google',{id_token:e}),{access_token:o,user:n}=t.data;await u.default.setItem('auth_token',o),s.default.defaults.headers.common.Authorization=`Bearer ${o}`,f(n)},register:async e=>{const t=await s.default.post('/auth/register',e),{access_token:o,user:n}=t.data;await u.default.setItem('auth_token',o),s.default.defaults.headers.common.Authorization=`Bearer ${o}`,f(n)},logout:y,refreshUser:async()=>{try{const e=await s.default.get('/auth/me');f(e.data)}catch(e){await y()}},isAdmin:()=>'admin'===o?.role},children:t},void 0,!1,{fileName:\"/app/frontend/src/context/AuthContext.tsx\",lineNumber:108,columnNumber:5},this)};e(f,\"NiO5z6JIqzX62LS5UWDgIqbZYyY=\"),v=f;const h=()=>{t();const e=(0,n.useContext)(l);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e};var v;t(h,\"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\"),$RefreshReg$(v,\"AuthProvider\")});","lineCount":1,"map":[[1,181,37,0,"Object"],[1,188,37,0,"defineProperty"],[1,203,37,0,"_e"],[1,206,37,0],[1,222,37,0,"enumerable"],[1,234,37,0],[1,236,37,0,"get"],[1,240,37,0],[1,258,37,0,"AuthProvider"],[1,259,37,0],[1,263,114,0,"Object"],[1,270,114,0,"defineProperty"],[1,285,114,0,"_e"],[1,288,114,0],[1,299,114,0,"enumerable"],[1,311,114,0],[1,313,114,0,"get"],[1,317,114,0],[1,335,114,0,"useAuth"],[1,336,114,0],[1,340,1,0],[1,344,1,0,"_react"],[1,346,1,0,"r"],[1,348,1,0,"d"],[1,350,1,0],[1,362,2,0,"AsyncStorage"],[1,364,2,0,"_interopDefault"],[1,366,2,0,"r"],[1,368,2,0,"d"],[1,370,2,0],[1,419,3,0,"api"],[1,421,3,0,"_interopDefault"],[1,423,3,0,"r"],[1,425,3,0,"d"],[1,427,3,0],[1,450,3,34,"_reactJsxDevRuntime"],[1,452,3,34,"r"],[1,454,3,34,"d"],[1,456,3,34],[1,484,35,0],[1,490,35,6,"AuthContext"],[1,493,35,20],[1,495,35,20,"createContext"],[1,497,35,33,"createContext"],[1,517,35,63,"undefined"],[1,520,37,13,"AuthProvider"],[1,522,37,63,"AuthProvider"],[1,524,37,66,"children"],[1,539,37,81,"_s"],[1,543,38,2],[1,549,38,9,"user"],[1,551,38,15,"setUser"],[1,555,38,26],[1,557,38,26,"useState"],[1,559,38,34,"useState"],[1,569,38,48],[1,576,39,9,"loading"],[1,578,39,18,"setLoading"],[1,582,39,32],[1,584,39,32,"useState"],[1,586,39,40,"useState"],[1,597,39,41],[1,601,41,2],[1,603,41,2,"useEffect"],[1,605,41,11,"useEffect"],[1,616,41,12],[1,621,42,4,"checkAuth"],[1,626,43,5],[1,630,45,2],[1,636,45,8,"checkAuth"],[1,638,45,20,"async"],[1,648,46,4],[1,652,47,6],[1,658,47,12,"token"],[1,666,47,26,"AsyncStorage"],[1,668,47,38,"default"],[1,676,47,39,"getItem"],[1,684,47,47],[1,698,48,6],[1,701,48,10,"token"],[1,703,48,17],[1,704,49,8,"api"],[1,706,49,11,"default"],[1,714,49,12,"defaults"],[1,723,49,21,"headers"],[1,731,49,29,"common"],[1,738,49,51],[1,752,49,55],[1,762,49,65,"token"],[1,766,50,8],[1,772,50,14,"response"],[1,780,50,31,"api"],[1,782,50,34,"default"],[1,790,50,35,"get"],[1,794,50,39],[1,806,51,8,"setUser"],[1,808,51,16,"response"],[1,810,51,25,"data"],[1,815,52,6],[1,816,53,4],[1,817,53,6],[1,823,53,13,"error"],[1,832,54,12,"AsyncStorage"],[1,834,54,24,"default"],[1,842,54,25,"removeItem"],[1,853,54,36],[1,874,55,13,"api"],[1,876,55,16,"default"],[1,884,55,17,"defaults"],[1,893,55,26,"headers"],[1,901,55,34,"common"],[1,908,55,56],[1,921,56,4],[1,922,56,5],[1,930,57,6,"setLoading"],[1,933,57,17],[1,935,58,4],[1,938,88,8,"logout"],[1,940,88,17,"async"],[1,956,89,10,"AsyncStorage"],[1,958,89,22,"default"],[1,966,89,23,"removeItem"],[1,977,89,34],[1,998,90,11,"api"],[1,1000,90,14,"default"],[1,1008,90,15,"defaults"],[1,1017,90,24,"headers"],[1,1025,90,32,"common"],[1,1032,90,54],[1,1046,91,4,"setUser"],[1,1048,91,12],[1,1055,107,2],[1,1062,108,4],[1,1064,108,4,"_reactJsxDevRuntime"],[1,1066,108,4,"jsxDEV"],[1,1074,108,5,"AuthContext"],[1,1076,108,17,"Provider"],[1,1085,108,25],[1,1086,108,26,"value"],[1,1092,108,33],[1,1093,108,35,"user"],[1,1100,108,41,"loading"],[1,1110,108,50,"login"],[1,1116,61,16,"async"],[1,1122,61,23,"email"],[1,1124,61,38,"password"],[1,1129,62,4],[1,1135,62,10,"response"],[1,1143,62,27,"api"],[1,1145,62,30,"default"],[1,1153,62,31,"post"],[1,1158,62,36],[1,1172,62,51],[1,1173,62,53,"email"],[1,1181,62,60,"password"],[1,1195,63,10,"access_token"],[1,1208,63,12,"access_token"],[1,1210,63,26,"user"],[1,1215,63,32,"userData"],[1,1218,63,45,"response"],[1,1220,63,54,"data"],[1,1231,65,10,"AsyncStorage"],[1,1233,65,22,"default"],[1,1241,65,23,"setItem"],[1,1249,65,31],[1,1262,65,45,"access_token"],[1,1265,66,4,"api"],[1,1267,66,7,"default"],[1,1275,66,8,"defaults"],[1,1284,66,17,"headers"],[1,1292,66,25,"common"],[1,1299,66,47],[1,1313,66,51],[1,1323,66,61,"access_token"],[1,1327,67,4,"setUser"],[1,1329,67,12,"userData"],[1,1333,108,57,"loginWithGoogle"],[1,1349,70,26,"async"],[1,1359,71,4],[1,1365,71,10,"response"],[1,1373,71,27,"api"],[1,1375,71,30,"default"],[1,1383,71,31,"post"],[1,1388,71,36],[1,1403,71,52],[1,1404,71,54,"id_token"],[1,1413,71,64,"idToken"],[1,1418,72,10,"access_token"],[1,1431,72,12,"access_token"],[1,1433,72,26,"user"],[1,1438,72,32,"userData"],[1,1441,72,45,"response"],[1,1443,72,54,"data"],[1,1454,74,10,"AsyncStorage"],[1,1456,74,22,"default"],[1,1464,74,23,"setItem"],[1,1472,74,31],[1,1485,74,45,"access_token"],[1,1488,75,4,"api"],[1,1490,75,7,"default"],[1,1498,75,8,"defaults"],[1,1507,75,17,"headers"],[1,1515,75,25,"common"],[1,1522,75,47],[1,1536,75,51],[1,1546,75,61,"access_token"],[1,1550,76,4,"setUser"],[1,1552,76,12,"userData"],[1,1556,108,74,"register"],[1,1565,79,19,"async"],[1,1575,80,4],[1,1581,80,10,"response"],[1,1589,80,27,"api"],[1,1591,80,30,"default"],[1,1599,80,31,"post"],[1,1604,80,36],[1,1621,80,54,"data"],[1,1625,81,10,"access_token"],[1,1638,81,12,"access_token"],[1,1640,81,26,"user"],[1,1645,81,32,"userData"],[1,1648,81,45,"response"],[1,1650,81,54,"data"],[1,1661,83,10,"AsyncStorage"],[1,1663,83,22,"default"],[1,1671,83,23,"setItem"],[1,1679,83,31],[1,1692,83,45,"access_token"],[1,1695,84,4,"api"],[1,1697,84,7,"default"],[1,1705,84,8,"defaults"],[1,1714,84,17,"headers"],[1,1722,84,25,"common"],[1,1729,84,47],[1,1743,84,51],[1,1753,84,61,"access_token"],[1,1757,85,4,"setUser"],[1,1759,85,12,"userData"],[1,1763,108,84,"logout"],[1,1772,108,92,"refreshUser"],[1,1784,94,22,"async"],[1,1794,95,4],[1,1798,96,6],[1,1804,96,12,"response"],[1,1812,96,29,"api"],[1,1814,96,32,"default"],[1,1822,96,33,"get"],[1,1826,96,37],[1,1838,97,6,"setUser"],[1,1840,97,14,"response"],[1,1842,97,23,"data"],[1,1847,98,4],[1,1848,98,6],[1,1854,98,13,"error"],[1,1863,99,12,"logout"],[1,1866,100,4],[1,1869,108,105,"isAdmin"],[1,1877,103,18,"isAdmin"],[1,1881,104,26],[1,1891,104,11,"user"],[1,1894,104,17,"role"],[1,1900,108,115,"children"],[1,1909,109,7,"children"],[1,1917,109,15],[1,1923,109,15,"fileName"],[1,1932],[1,1976,109,15,"lineNumber"],[1,1987,109,15],[1,1991,109,15,"columnNumber"],[1,2004,109,15],[1,2007,109,15,"this"],[1,2014,112,2,"_s"],[1,2016,37,13,"AuthProvider"],[1,2018,37,60],[1,2050,37,60,"_c"],[1,2052,37,13,"AuthProvider"],[1,2054,114,7],[1,2060,114,13,"useAuth"],[1,2062,114,23,"useAuth"],[1,2067,114,29,"_s2"],[1,2071,115,2],[1,2077,115,8,"context"],[1,2080,115,18],[1,2082,115,18,"useContext"],[1,2084,115,28,"useContext"],[1,2096,115,29,"AuthContext"],[1,2099,116,2],[1,2107,116,18,"undefined"],[1,2111,116,6,"context"],[1,2113,117,4],[1,2119,117,10],[1,2123,117,14,"Error"],[1,2129,117,20],[1,2176,119,2],[1,2183,119,9,"context"],[1,2186,114,20],[1,2190,114,20,"_c"],[1,2192,120,2,"_s2"],[1,2194,114,13,"useAuth"],[1,2196,114,20],[1,2228,114,20,"$RefreshReg$"],[1,2241,114,20,"_c"],[1,2243,114,20],[1,2261]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","loginWithGoogle","register","logout","refreshUser","isAdmin","useAuth"],"mappings":"AAA;+DCoC;YCI;GDE;oBEE;GFc;gBGE;GHO;0BIE;GJO;mBKE;GLO;iBME;GNI;sBOE;GPO;kBQE;GRE;CDO;uBUE;CVM"},"hasCjsExports":false},"type":"js/module"}]}