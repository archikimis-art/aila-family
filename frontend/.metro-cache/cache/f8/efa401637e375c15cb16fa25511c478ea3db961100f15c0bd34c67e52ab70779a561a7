{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return l}});var t=r(d[0],\"react\"),o=e(r(d[1],\"@react-native-async-storage/async-storage\")),n=e(r(d[2],\"../services/api\")),u=r(d[3],\"react/jsx-dev-runtime\");const s=(0,t.createContext)(void 0),c=({children:e})=>{const[c,l]=(0,t.useState)(null),[f,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{w()},[]);const w=async()=>{try{const e=await o.default.getItem('auth_token');if(e){n.default.defaults.headers.common.Authorization=`Bearer ${e}`;const t=await n.default.get('/auth/me');l(t.data)}}catch(e){await o.default.removeItem('auth_token'),delete n.default.defaults.headers.common.Authorization}finally{h(!1)}},_=async()=>{await o.default.removeItem('auth_token'),delete n.default.defaults.headers.common.Authorization,l(null)};return(0,u.jsxDEV)(s.Provider,{value:{user:c,loading:f,login:async(e,t)=>{const u=await n.default.post('/auth/login',{email:e,password:t}),{access_token:s,user:c}=u.data;await o.default.setItem('auth_token',s),n.default.defaults.headers.common.Authorization=`Bearer ${s}`,l(c)},loginWithGoogle:async e=>{const t=await n.default.post('/auth/google',{id_token:e}),{access_token:u,user:s}=t.data;await o.default.setItem('auth_token',u),n.default.defaults.headers.common.Authorization=`Bearer ${u}`,l(s)},register:async e=>{const t=await n.default.post('/auth/register',e),{access_token:u,user:s}=t.data;await o.default.setItem('auth_token',u),n.default.defaults.headers.common.Authorization=`Bearer ${u}`,l(s)},logout:_,refreshUser:async()=>{try{const e=await n.default.get('/auth/me');l(e.data)}catch(e){await _()}},isAdmin:()=>'admin'===c?.role},children:e},void 0,!1,{fileName:\"/app/frontend/src/context/AuthContext.tsx\",lineNumber:108,columnNumber:5},this)},l=()=>{const e=(0,t.useContext)(s);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e}});","lineCount":1,"map":[[1,143,37,0,"Object"],[1,150,37,0,"defineProperty"],[1,165,37,0,"_e"],[1,168,37,0],[1,184,37,0,"enumerable"],[1,196,37,0],[1,198,37,0,"get"],[1,202,37,0],[1,220,37,0,"AuthProvider"],[1,221,37,0],[1,225,114,0,"Object"],[1,232,114,0,"defineProperty"],[1,247,114,0,"_e"],[1,250,114,0],[1,261,114,0,"enumerable"],[1,273,114,0],[1,275,114,0,"get"],[1,279,114,0],[1,297,114,0,"useAuth"],[1,298,114,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,324,2,0,"AsyncStorage"],[1,326,2,0,"_interopDefault"],[1,328,2,0,"r"],[1,330,2,0,"d"],[1,332,2,0],[1,381,3,0,"api"],[1,383,3,0,"_interopDefault"],[1,385,3,0,"r"],[1,387,3,0,"d"],[1,389,3,0],[1,412,3,34,"_reactJsxDevRuntime"],[1,414,3,34,"r"],[1,416,3,34,"d"],[1,418,3,34],[1,446,35,0],[1,452,35,6,"AuthContext"],[1,455,35,20],[1,457,35,20,"createContext"],[1,459,35,33,"createContext"],[1,479,35,63,"undefined"],[1,482,37,13,"AuthProvider"],[1,484,37,63,"AuthProvider"],[1,486,37,66,"children"],[1,501,38,2],[1,507,38,9,"user"],[1,509,38,15,"setUser"],[1,513,38,26],[1,515,38,26,"useState"],[1,517,38,34,"useState"],[1,527,38,48],[1,534,39,9,"loading"],[1,536,39,18,"setLoading"],[1,540,39,32],[1,542,39,32,"useState"],[1,544,39,40,"useState"],[1,555,39,41],[1,559,41,2],[1,561,41,2,"useEffect"],[1,563,41,11,"useEffect"],[1,574,41,12],[1,579,42,4,"checkAuth"],[1,584,43,5],[1,588,45,2],[1,594,45,8,"checkAuth"],[1,596,45,20,"async"],[1,606,46,4],[1,610,47,6],[1,616,47,12,"token"],[1,624,47,26,"AsyncStorage"],[1,626,47,38,"default"],[1,634,47,39,"getItem"],[1,642,47,47],[1,656,48,6],[1,659,48,10,"token"],[1,661,48,17],[1,662,49,8,"api"],[1,664,49,11,"default"],[1,672,49,12,"defaults"],[1,681,49,21,"headers"],[1,689,49,29,"common"],[1,696,49,51],[1,710,49,55],[1,720,49,65,"token"],[1,724,50,8],[1,730,50,14,"response"],[1,738,50,31,"api"],[1,740,50,34,"default"],[1,748,50,35,"get"],[1,752,50,39],[1,764,51,8,"setUser"],[1,766,51,16,"response"],[1,768,51,25,"data"],[1,773,52,6],[1,774,53,4],[1,775,53,6],[1,781,53,13,"error"],[1,790,54,12,"AsyncStorage"],[1,792,54,24,"default"],[1,800,54,25,"removeItem"],[1,811,54,36],[1,832,55,13,"api"],[1,834,55,16,"default"],[1,842,55,17,"defaults"],[1,851,55,26,"headers"],[1,859,55,34,"common"],[1,866,55,56],[1,879,56,4],[1,880,56,5],[1,888,57,6,"setLoading"],[1,891,57,17],[1,893,58,4],[1,896,88,8,"logout"],[1,898,88,17,"async"],[1,914,89,10,"AsyncStorage"],[1,916,89,22,"default"],[1,924,89,23,"removeItem"],[1,935,89,34],[1,956,90,11,"api"],[1,958,90,14,"default"],[1,966,90,15,"defaults"],[1,975,90,24,"headers"],[1,983,90,32,"common"],[1,990,90,54],[1,1004,91,4,"setUser"],[1,1006,91,12],[1,1013,107,2],[1,1020,108,4],[1,1022,108,4,"_reactJsxDevRuntime"],[1,1024,108,4,"jsxDEV"],[1,1032,108,5,"AuthContext"],[1,1034,108,17,"Provider"],[1,1043,108,25],[1,1044,108,26,"value"],[1,1050,108,33],[1,1051,108,35,"user"],[1,1058,108,41,"loading"],[1,1068,108,50,"login"],[1,1074,61,16,"async"],[1,1080,61,23,"email"],[1,1082,61,38,"password"],[1,1087,62,4],[1,1093,62,10,"response"],[1,1101,62,27,"api"],[1,1103,62,30,"default"],[1,1111,62,31,"post"],[1,1116,62,36],[1,1130,62,51],[1,1131,62,53,"email"],[1,1139,62,60,"password"],[1,1153,63,10,"access_token"],[1,1166,63,12,"access_token"],[1,1168,63,26,"user"],[1,1173,63,32,"userData"],[1,1176,63,45,"response"],[1,1178,63,54,"data"],[1,1189,65,10,"AsyncStorage"],[1,1191,65,22,"default"],[1,1199,65,23,"setItem"],[1,1207,65,31],[1,1220,65,45,"access_token"],[1,1223,66,4,"api"],[1,1225,66,7,"default"],[1,1233,66,8,"defaults"],[1,1242,66,17,"headers"],[1,1250,66,25,"common"],[1,1257,66,47],[1,1271,66,51],[1,1281,66,61,"access_token"],[1,1285,67,4,"setUser"],[1,1287,67,12,"userData"],[1,1291,108,57,"loginWithGoogle"],[1,1307,70,26,"async"],[1,1317,71,4],[1,1323,71,10,"response"],[1,1331,71,27,"api"],[1,1333,71,30,"default"],[1,1341,71,31,"post"],[1,1346,71,36],[1,1361,71,52],[1,1362,71,54,"id_token"],[1,1371,71,64,"idToken"],[1,1376,72,10,"access_token"],[1,1389,72,12,"access_token"],[1,1391,72,26,"user"],[1,1396,72,32,"userData"],[1,1399,72,45,"response"],[1,1401,72,54,"data"],[1,1412,74,10,"AsyncStorage"],[1,1414,74,22,"default"],[1,1422,74,23,"setItem"],[1,1430,74,31],[1,1443,74,45,"access_token"],[1,1446,75,4,"api"],[1,1448,75,7,"default"],[1,1456,75,8,"defaults"],[1,1465,75,17,"headers"],[1,1473,75,25,"common"],[1,1480,75,47],[1,1494,75,51],[1,1504,75,61,"access_token"],[1,1508,76,4,"setUser"],[1,1510,76,12,"userData"],[1,1514,108,74,"register"],[1,1523,79,19,"async"],[1,1533,80,4],[1,1539,80,10,"response"],[1,1547,80,27,"api"],[1,1549,80,30,"default"],[1,1557,80,31,"post"],[1,1562,80,36],[1,1579,80,54,"data"],[1,1583,81,10,"access_token"],[1,1596,81,12,"access_token"],[1,1598,81,26,"user"],[1,1603,81,32,"userData"],[1,1606,81,45,"response"],[1,1608,81,54,"data"],[1,1619,83,10,"AsyncStorage"],[1,1621,83,22,"default"],[1,1629,83,23,"setItem"],[1,1637,83,31],[1,1650,83,45,"access_token"],[1,1653,84,4,"api"],[1,1655,84,7,"default"],[1,1663,84,8,"defaults"],[1,1672,84,17,"headers"],[1,1680,84,25,"common"],[1,1687,84,47],[1,1701,84,51],[1,1711,84,61,"access_token"],[1,1715,85,4,"setUser"],[1,1717,85,12,"userData"],[1,1721,108,84,"logout"],[1,1730,108,92,"refreshUser"],[1,1742,94,22,"async"],[1,1752,95,4],[1,1756,96,6],[1,1762,96,12,"response"],[1,1770,96,29,"api"],[1,1772,96,32,"default"],[1,1780,96,33,"get"],[1,1784,96,37],[1,1796,97,6,"setUser"],[1,1798,97,14,"response"],[1,1800,97,23,"data"],[1,1805,98,4],[1,1806,98,6],[1,1812,98,13,"error"],[1,1821,99,12,"logout"],[1,1824,100,4],[1,1827,108,105,"isAdmin"],[1,1835,103,18,"isAdmin"],[1,1839,104,26],[1,1849,104,11,"user"],[1,1852,104,17,"role"],[1,1858,108,115,"children"],[1,1867,109,7,"children"],[1,1875,109,15],[1,1881,109,15,"fileName"],[1,1890],[1,1934,109,15,"lineNumber"],[1,1945,109,15],[1,1949,109,15,"columnNumber"],[1,1962,109,15],[1,1965,109,15,"this"],[1,1972,114,13,"useAuth"],[1,1974,114,23,"useAuth"],[1,1979,115,2],[1,1985,115,8,"context"],[1,1988,115,18],[1,1990,115,18,"useContext"],[1,1992,115,28,"useContext"],[1,2004,115,29,"AuthContext"],[1,2007,116,2],[1,2015,116,18,"undefined"],[1,2019,116,6,"context"],[1,2021,117,4],[1,2027,117,10],[1,2031,117,14,"Error"],[1,2037,117,20],[1,2084,119,2],[1,2091,119,9,"context"],[1,2093,120,2],[1,2096]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","loginWithGoogle","register","logout","refreshUser","isAdmin","useAuth"],"mappings":"AAA;+DCoC;YCI;GDE;oBEE;GFc;gBGE;GHO;0BIE;GJO;mBKE;GLO;iBME;GNI;sBOE;GPO;kBQE;GRE;CDO;uBUE;CVM"},"hasCjsExports":false},"type":"js/module"}]}