{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":48,"index":179}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":180},"end":{"line":4,"column":33,"index":213}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AdsContext.tsx\"; // AdMob Test IDs (replace with real IDs in production)\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AdsProvider = AdsProvider;\n  exports.useAds = useAds;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const TEST_BANNER_ID = Platform.default.select({\n    ios: 'ca-app-pub-3940256099942544/2934735716',\n    android: 'ca-app-pub-3940256099942544/6300978111',\n    default: 'ca-app-pub-3940256099942544/6300978111'\n  });\n  const TEST_INTERSTITIAL_ID = Platform.default.select({\n    ios: 'ca-app-pub-3940256099942544/4411468910',\n    android: 'ca-app-pub-3940256099942544/1033173712',\n    default: 'ca-app-pub-3940256099942544/1033173712'\n  });\n  const AdsContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AdsProvider({\n    children\n  }) {\n    const {\n      user\n    } = (0, _AuthContext.useAuth)();\n    const [isPremium, setIsPremium] = (0, _react.useState)(false);\n    const [subscriptionPlan, setSubscriptionPlan] = (0, _react.useState)(null);\n    const [actionCount, setActionCount] = (0, _react.useState)(0);\n\n    // Determine if we should show ads\n    const showAds = !isPremium;\n    const refreshPremiumStatus = async () => {\n      if (!user) {\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n        return;\n      }\n      try {\n        const response = await api.default.get('/stripe/subscription-status');\n        const data = response.data;\n\n        // User is premium if they have an active subscription or lifetime purchase\n        const isActive = data.status === 'active' || data.status === 'lifetime';\n        setIsPremium(isActive);\n        setSubscriptionPlan(data.plan || null);\n      } catch (error) {\n        console.log('Error checking premium status:', error);\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      refreshPremiumStatus();\n    }, [user]);\n    const incrementAction = () => {\n      setActionCount(prev => prev + 1);\n    };\n    const shouldShowInterstitial = () => {\n      // Show interstitial every 5 actions for free users\n      if (isPremium) return false;\n      return actionCount > 0 && actionCount % 5 === 0;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AdsContext.Provider, {\n      value: {\n        isPremium,\n        showAds,\n        bannerId: TEST_BANNER_ID,\n        interstitialId: TEST_INTERSTITIAL_ID,\n        actionCount,\n        incrementAction,\n        shouldShowInterstitial,\n        refreshPremiumStatus,\n        subscriptionPlan\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this);\n  }\n  function useAds() {\n    const context = (0, _react.useContext)(AdsContext);\n    if (context === undefined) {\n      throw new Error('useAds must be used within an AdsProvider');\n    }\n    return context;\n  }\n});","lineCount":102,"map":[[4,65,6,0],[5,2,6,0,"Object"],[5,8,6,0],[5,9,6,0,"defineProperty"],[5,23,6,0],[5,24,6,0,"exports"],[5,31,6,0],[6,4,6,0,"value"],[6,9,6,0],[7,2,6,0],[8,2,6,0],[8,11,6,0,"_interopDefault"],[8,27,6,0,"e"],[8,28,6,0],[9,4,6,0],[9,11,6,0,"e"],[9,12,6,0],[9,16,6,0,"e"],[9,17,6,0],[9,18,6,0,"__esModule"],[9,28,6,0],[9,31,6,0,"e"],[9,32,6,0],[10,6,6,0,"default"],[10,13,6,0],[10,15,6,0,"e"],[11,4,6,0],[12,2,6,0],[13,2,33,0,"exports"],[13,9,33,0],[13,10,33,0,"AdsProvider"],[13,21,33,0],[13,24,33,0,"AdsProvider"],[13,35,33,0],[14,2,97,0,"exports"],[14,9,97,0],[14,10,97,0,"useAds"],[14,16,97,0],[14,19,97,0,"useAds"],[14,25,97,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,1,89],[16,6,1,89,"_reactNativeWebDistExportsPlatform"],[16,40,1,89],[16,43,1,89,"require"],[16,50,1,89],[16,51,1,89,"_dependencyMap"],[16,65,1,89],[17,2,1,89],[17,6,1,89,"Platform"],[17,14,1,89],[17,17,1,89,"_interopDefault"],[17,32,1,89],[17,33,1,89,"_reactNativeWebDistExportsPlatform"],[17,67,1,89],[18,2,3,0],[18,6,3,0,"_AuthContext"],[18,18,3,0],[18,21,3,0,"require"],[18,28,3,0],[18,29,3,0,"_dependencyMap"],[18,43,3,0],[19,2,4,0],[19,6,4,0,"_servicesApi"],[19,18,4,0],[19,21,4,0,"require"],[19,28,4,0],[19,29,4,0,"_dependencyMap"],[19,43,4,0],[20,2,4,0],[20,6,4,0,"api"],[20,9,4,0],[20,12,4,0,"_interopDefault"],[20,27,4,0],[20,28,4,0,"_servicesApi"],[20,40,4,0],[21,2,4,33],[21,6,4,33,"_reactJsxDevRuntime"],[21,25,4,33],[21,28,4,33,"require"],[21,35,4,33],[21,36,4,33,"_dependencyMap"],[21,50,4,33],[22,2,7,0],[22,8,7,6,"TEST_BANNER_ID"],[22,22,7,20],[22,25,7,23,"Platform"],[22,33,7,31],[22,34,7,31,"default"],[22,41,7,31],[22,42,7,32,"select"],[22,48,7,38],[22,49,7,39],[23,4,8,2,"ios"],[23,7,8,5],[23,9,8,7],[23,49,8,47],[24,4,9,2,"android"],[24,11,9,9],[24,13,9,11],[24,53,9,51],[25,4,10,2,"default"],[25,11,10,9],[25,13,10,11],[26,2,11,0],[26,3,11,1],[26,4,11,2],[27,2,13,0],[27,8,13,6,"TEST_INTERSTITIAL_ID"],[27,28,13,26],[27,31,13,29,"Platform"],[27,39,13,37],[27,40,13,37,"default"],[27,47,13,37],[27,48,13,38,"select"],[27,54,13,44],[27,55,13,45],[28,4,14,2,"ios"],[28,7,14,5],[28,9,14,7],[28,49,14,47],[29,4,15,2,"android"],[29,11,15,9],[29,13,15,11],[29,53,15,51],[30,4,16,2,"default"],[30,11,16,9],[30,13,16,11],[31,2,17,0],[31,3,17,1],[31,4,17,2],[32,2,31,0],[32,8,31,6,"AdsContext"],[32,18,31,16],[32,34,31,19],[32,38,31,19,"createContext"],[32,44,31,32],[32,45,31,32,"createContext"],[32,58,31,32],[32,60,31,61,"undefined"],[32,69,31,70],[32,70,31,71],[33,2,33,7],[33,11,33,16,"AdsProvider"],[33,22,33,27,"AdsProvider"],[33,23,33,28],[34,4,33,30,"children"],[35,2,33,64],[35,3,33,65],[35,5,33,67],[36,4,34,2],[36,10,34,8],[37,6,34,10,"user"],[38,4,34,15],[38,5,34,16],[38,8,34,19],[38,12,34,19,"useAuth"],[38,24,34,26],[38,25,34,26,"useAuth"],[38,32,34,26],[38,34,34,27],[38,35,34,28],[39,4,35,2],[39,10,35,8],[39,11,35,9,"isPremium"],[39,20,35,18],[39,22,35,20,"setIsPremium"],[39,34,35,32],[39,35,35,33],[39,38,35,36],[39,42,35,36,"useState"],[39,48,35,44],[39,49,35,44,"useState"],[39,57,35,44],[39,59,35,45],[39,64,35,50],[39,65,35,51],[40,4,36,2],[40,10,36,8],[40,11,36,9,"subscriptionPlan"],[40,27,36,25],[40,29,36,27,"setSubscriptionPlan"],[40,48,36,46],[40,49,36,47],[40,52,36,50],[40,56,36,50,"useState"],[40,62,36,58],[40,63,36,58,"useState"],[40,71,36,58],[40,73,36,74],[40,77,36,78],[40,78,36,79],[41,4,37,2],[41,10,37,8],[41,11,37,9,"actionCount"],[41,22,37,20],[41,24,37,22,"setActionCount"],[41,38,37,36],[41,39,37,37],[41,42,37,40],[41,46,37,40,"useState"],[41,52,37,48],[41,53,37,48,"useState"],[41,61,37,48],[41,63,37,49],[41,64,37,50],[41,65,37,51],[43,4,39,2],[44,4,40,2],[44,10,40,8,"showAds"],[44,17,40,15],[44,20,40,18],[44,21,40,19,"isPremium"],[44,30,40,28],[45,4,42,2],[45,10,42,8,"refreshPremiumStatus"],[45,30,42,28],[45,33,42,31],[45,39,42,31,"refreshPremiumStatus"],[45,40,42,31],[45,45,42,43],[46,6,43,4],[46,10,43,8],[46,11,43,9,"user"],[46,15,43,13],[46,17,43,15],[47,8,44,6,"setIsPremium"],[47,20,44,18],[47,21,44,19],[47,26,44,24],[47,27,44,25],[48,8,45,6,"setSubscriptionPlan"],[48,27,45,25],[48,28,45,26],[48,32,45,30],[48,33,45,31],[49,8,46,6],[50,6,47,4],[51,6,49,4],[51,10,49,8],[52,8,50,6],[52,14,50,12,"response"],[52,22,50,20],[52,25,50,23],[52,31,50,29,"api"],[52,34,50,32],[52,35,50,32,"default"],[52,42,50,32],[52,43,50,33,"get"],[52,46,50,36],[52,47,50,37],[52,76,50,66],[52,77,50,67],[53,8,51,6],[53,14,51,12,"data"],[53,18,51,16],[53,21,51,19,"response"],[53,29,51,27],[53,30,51,28,"data"],[53,34,51,32],[55,8,53,6],[56,8,54,6],[56,14,54,12,"isActive"],[56,22,54,20],[56,25,54,23,"data"],[56,29,54,27],[56,30,54,28,"status"],[56,36,54,34],[56,41,54,39],[56,49,54,47],[56,53,54,51,"data"],[56,57,54,55],[56,58,54,56,"status"],[56,64,54,62],[56,69,54,67],[56,79,54,77],[57,8,55,6,"setIsPremium"],[57,20,55,18],[57,21,55,19,"isActive"],[57,29,55,27],[57,30,55,28],[58,8,56,6,"setSubscriptionPlan"],[58,27,56,25],[58,28,56,26,"data"],[58,32,56,30],[58,33,56,31,"plan"],[58,37,56,35],[58,41,56,39],[58,45,56,43],[58,46,56,44],[59,6,57,4],[59,7,57,5],[59,8,57,6],[59,15,57,13,"error"],[59,20,57,18],[59,22,57,20],[60,8,58,6,"console"],[60,15,58,13],[60,16,58,14,"log"],[60,19,58,17],[60,20,58,18],[60,52,58,50],[60,54,58,52,"error"],[60,59,58,57],[60,60,58,58],[61,8,59,6,"setIsPremium"],[61,20,59,18],[61,21,59,19],[61,26,59,24],[61,27,59,25],[62,8,60,6,"setSubscriptionPlan"],[62,27,60,25],[62,28,60,26],[62,32,60,30],[62,33,60,31],[63,6,61,4],[64,4,62,2],[64,5,62,3],[65,4,64,2],[65,8,64,2,"useEffect"],[65,14,64,11],[65,15,64,11,"useEffect"],[65,24,64,11],[65,26,64,12],[65,32,64,18],[66,6,65,4,"refreshPremiumStatus"],[66,26,65,24],[66,27,65,25],[66,28,65,26],[67,4,66,2],[67,5,66,3],[67,7,66,5],[67,8,66,6,"user"],[67,12,66,10],[67,13,66,11],[67,14,66,12],[68,4,68,2],[68,10,68,8,"incrementAction"],[68,25,68,23],[68,28,68,26,"incrementAction"],[68,29,68,26],[68,34,68,32],[69,6,69,4,"setActionCount"],[69,20,69,18],[69,21,69,19,"prev"],[69,25,69,23],[69,29,69,27,"prev"],[69,33,69,31],[69,36,69,34],[69,37,69,35],[69,38,69,36],[70,4,70,2],[70,5,70,3],[71,4,72,2],[71,10,72,8,"shouldShowInterstitial"],[71,32,72,30],[71,35,72,33,"shouldShowInterstitial"],[71,36,72,33],[71,41,72,48],[72,6,73,4],[73,6,74,4],[73,10,74,8,"isPremium"],[73,19,74,17],[73,21,74,19],[73,28,74,26],[73,33,74,31],[74,6,75,4],[74,13,75,11,"actionCount"],[74,24,75,22],[74,27,75,25],[74,28,75,26],[74,32,75,30,"actionCount"],[74,43,75,41],[74,46,75,44],[74,47,75,45],[74,52,75,50],[74,53,75,51],[75,4,76,2],[75,5,76,3],[76,4,78,2],[76,24,79,4],[76,28,79,4,"_reactJsxDevRuntime"],[76,47,79,4],[76,48,79,4,"jsxDEV"],[76,54,79,4],[76,56,79,5,"AdsContext"],[76,66,79,15],[76,67,79,16,"Provider"],[76,75,79,24],[77,6,80,6,"value"],[77,11,80,11],[77,13,80,13],[78,8,81,8,"isPremium"],[78,17,81,17],[79,8,82,8,"showAds"],[79,15,82,15],[80,8,83,8,"bannerId"],[80,16,83,16],[80,18,83,18,"TEST_BANNER_ID"],[80,32,83,32],[81,8,84,8,"interstitialId"],[81,22,84,22],[81,24,84,24,"TEST_INTERSTITIAL_ID"],[81,44,84,44],[82,8,85,8,"actionCount"],[82,19,85,19],[83,8,86,8,"incrementAction"],[83,23,86,23],[84,8,87,8,"shouldShowInterstitial"],[84,30,87,30],[85,8,88,8,"refreshPremiumStatus"],[85,28,88,28],[86,8,89,8,"subscriptionPlan"],[87,6,90,6],[87,7,90,8],[88,6,90,8,"children"],[88,14,90,8],[88,16,92,7,"children"],[89,4,92,15],[90,6,92,15,"fileName"],[90,14,92,15],[90,16,92,15,"_jsxFileName"],[90,28,92,15],[91,6,92,15,"lineNumber"],[91,16,92,15],[92,6,92,15,"columnNumber"],[92,18,92,15],[93,4,92,15],[93,11,93,25],[93,12,93,26],[94,2,95,0],[95,2,97,7],[95,11,97,16,"useAds"],[95,17,97,22,"useAds"],[95,18,97,22],[95,20,97,25],[96,4,98,2],[96,10,98,8,"context"],[96,17,98,15],[96,20,98,18],[96,24,98,18,"useContext"],[96,30,98,28],[96,31,98,28,"useContext"],[96,41,98,28],[96,43,98,29,"AdsContext"],[96,53,98,39],[96,54,98,40],[97,4,99,2],[97,8,99,6,"context"],[97,15,99,13],[97,20,99,18,"undefined"],[97,29,99,27],[97,31,99,29],[98,6,100,4],[98,12,100,10],[98,16,100,14,"Error"],[98,21,100,19],[98,22,100,20],[98,65,100,63],[98,66,100,64],[99,4,101,2],[100,4,102,2],[100,11,102,9,"context"],[100,18,102,16],[101,2,103,0],[102,0,103,1],[102,3]],"functionMap":{"names":["<global>","AdsProvider","refreshPremiumStatus","useEffect$argument_0","incrementAction","setActionCount$argument_0","shouldShowInterstitial","useAds"],"mappings":"AAA;OCgC;+BCS;GDoB;YEE;GFE;0BGE;mBCC,gBD;GHC;iCKE;GLI;CDmB;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}