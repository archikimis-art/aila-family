{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":48,"index":179}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":180},"end":{"line":4,"column":33,"index":213}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AdsContext.tsx\"; // AdMob Production IDs for AÃLA\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AdsProvider = AdsProvider;\n  exports.useAds = useAds;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const ADMOB_APP_ID = Platform.default.select({\n    ios: 'ca-app-pub-8309745338282834~5153578079',\n    android: 'ca-app-pub-8309745338282834~6476050996',\n    default: 'ca-app-pub-8309745338282834~6476050996'\n  });\n  const BANNER_AD_UNIT_ID = Platform.default.select({\n    ios: 'ca-app-pub-8309745338282834/8765520025',\n    // Production iOS Banner ID\n    android: 'ca-app-pub-8309745338282834/9092823082',\n    // Production Android Banner ID\n    default: 'ca-app-pub-8309745338282834/9092823082'\n  });\n  const INTERSTITIAL_AD_UNIT_ID = Platform.default.select({\n    ios: 'ca-app-pub-3940256099942544/4411468910',\n    // Test ID for iOS (create interstitial ad unit in AdMob if needed)\n    android: 'ca-app-pub-3940256099942544/1033173712',\n    // Test ID for Android (create interstitial ad unit in AdMob if needed)\n    default: 'ca-app-pub-3940256099942544/1033173712'\n  });\n  const AdsContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AdsProvider({\n    children\n  }) {\n    const {\n      user\n    } = (0, _AuthContext.useAuth)();\n    const [isPremium, setIsPremium] = (0, _react.useState)(false);\n    const [subscriptionPlan, setSubscriptionPlan] = (0, _react.useState)(null);\n    const [actionCount, setActionCount] = (0, _react.useState)(0);\n\n    // Determine if we should show ads\n    const showAds = !isPremium;\n    const refreshPremiumStatus = async () => {\n      if (!user) {\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n        return;\n      }\n      try {\n        const response = await api.default.get('/stripe/subscription-status');\n        const data = response.data;\n\n        // User is premium if they have an active subscription or lifetime purchase\n        const isActive = data.status === 'active' || data.status === 'lifetime';\n        setIsPremium(isActive);\n        setSubscriptionPlan(data.plan || null);\n      } catch (error) {\n        console.log('Error checking premium status:', error);\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      refreshPremiumStatus();\n    }, [user]);\n    const incrementAction = () => {\n      setActionCount(prev => prev + 1);\n    };\n    const shouldShowInterstitial = () => {\n      // Show interstitial every 5 actions for free users\n      if (isPremium) return false;\n      return actionCount > 0 && actionCount % 5 === 0;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AdsContext.Provider, {\n      value: {\n        isPremium,\n        showAds,\n        bannerId: BANNER_AD_UNIT_ID,\n        interstitialId: INTERSTITIAL_AD_UNIT_ID,\n        appId: ADMOB_APP_ID,\n        actionCount,\n        incrementAction,\n        shouldShowInterstitial,\n        refreshPremiumStatus,\n        subscriptionPlan\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this);\n  }\n  function useAds() {\n    const context = (0, _react.useContext)(AdsContext);\n    if (context === undefined) {\n      throw new Error('useAds must be used within an AdsProvider');\n    }\n    return context;\n  }\n});","lineCount":112,"map":[[4,65,6,0],[5,2,6,0,"Object"],[5,8,6,0],[5,9,6,0,"defineProperty"],[5,23,6,0],[5,24,6,0,"exports"],[5,31,6,0],[6,4,6,0,"value"],[6,9,6,0],[7,2,6,0],[8,2,6,0],[8,11,6,0,"_interopDefault"],[8,27,6,0,"e"],[8,28,6,0],[9,4,6,0],[9,11,6,0,"e"],[9,12,6,0],[9,16,6,0,"e"],[9,17,6,0],[9,18,6,0,"__esModule"],[9,28,6,0],[9,31,6,0,"e"],[9,32,6,0],[10,6,6,0,"default"],[10,13,6,0],[10,15,6,0,"e"],[11,4,6,0],[12,2,6,0],[13,2,40,0,"exports"],[13,9,40,0],[13,10,40,0,"AdsProvider"],[13,21,40,0],[13,24,40,0,"AdsProvider"],[13,35,40,0],[14,2,105,0,"exports"],[14,9,105,0],[14,10,105,0,"useAds"],[14,16,105,0],[14,19,105,0,"useAds"],[14,25,105,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,1,89],[16,6,1,89,"_reactNativeWebDistExportsPlatform"],[16,40,1,89],[16,43,1,89,"require"],[16,50,1,89],[16,51,1,89,"_dependencyMap"],[16,65,1,89],[17,2,1,89],[17,6,1,89,"Platform"],[17,14,1,89],[17,17,1,89,"_interopDefault"],[17,32,1,89],[17,33,1,89,"_reactNativeWebDistExportsPlatform"],[17,67,1,89],[18,2,3,0],[18,6,3,0,"_AuthContext"],[18,18,3,0],[18,21,3,0,"require"],[18,28,3,0],[18,29,3,0,"_dependencyMap"],[18,43,3,0],[19,2,4,0],[19,6,4,0,"_servicesApi"],[19,18,4,0],[19,21,4,0,"require"],[19,28,4,0],[19,29,4,0,"_dependencyMap"],[19,43,4,0],[20,2,4,0],[20,6,4,0,"api"],[20,9,4,0],[20,12,4,0,"_interopDefault"],[20,27,4,0],[20,28,4,0,"_servicesApi"],[20,40,4,0],[21,2,4,33],[21,6,4,33,"_reactJsxDevRuntime"],[21,25,4,33],[21,28,4,33,"require"],[21,35,4,33],[21,36,4,33,"_dependencyMap"],[21,50,4,33],[22,2,7,0],[22,8,7,6,"ADMOB_APP_ID"],[22,20,7,18],[22,23,7,21,"Platform"],[22,31,7,29],[22,32,7,29,"default"],[22,39,7,29],[22,40,7,30,"select"],[22,46,7,36],[22,47,7,37],[23,4,8,2,"ios"],[23,7,8,5],[23,9,8,7],[23,49,8,47],[24,4,9,2,"android"],[24,11,9,9],[24,13,9,11],[24,53,9,51],[25,4,10,2,"default"],[25,11,10,9],[25,13,10,11],[26,2,11,0],[26,3,11,1],[26,4,11,2],[27,2,13,0],[27,8,13,6,"BANNER_AD_UNIT_ID"],[27,25,13,23],[27,28,13,26,"Platform"],[27,36,13,34],[27,37,13,34,"default"],[27,44,13,34],[27,45,13,35,"select"],[27,51,13,41],[27,52,13,42],[28,4,14,2,"ios"],[28,7,14,5],[28,9,14,7],[28,49,14,47],[29,4,14,49],[30,4,15,2,"android"],[30,11,15,9],[30,13,15,11],[30,53,15,51],[31,4,15,53],[32,4,16,2,"default"],[32,11,16,9],[32,13,16,11],[33,2,17,0],[33,3,17,1],[33,4,17,2],[34,2,19,0],[34,8,19,6,"INTERSTITIAL_AD_UNIT_ID"],[34,31,19,29],[34,34,19,32,"Platform"],[34,42,19,40],[34,43,19,40,"default"],[34,50,19,40],[34,51,19,41,"select"],[34,57,19,47],[34,58,19,48],[35,4,20,2,"ios"],[35,7,20,5],[35,9,20,7],[35,49,20,47],[36,4,20,49],[37,4,21,2,"android"],[37,11,21,9],[37,13,21,11],[37,53,21,51],[38,4,21,53],[39,4,22,2,"default"],[39,11,22,9],[39,13,22,11],[40,2,23,0],[40,3,23,1],[40,4,23,2],[41,2,38,0],[41,8,38,6,"AdsContext"],[41,18,38,16],[41,34,38,19],[41,38,38,19,"createContext"],[41,44,38,32],[41,45,38,32,"createContext"],[41,58,38,32],[41,60,38,61,"undefined"],[41,69,38,70],[41,70,38,71],[42,2,40,7],[42,11,40,16,"AdsProvider"],[42,22,40,27,"AdsProvider"],[42,23,40,28],[43,4,40,30,"children"],[44,2,40,64],[44,3,40,65],[44,5,40,67],[45,4,41,2],[45,10,41,8],[46,6,41,10,"user"],[47,4,41,15],[47,5,41,16],[47,8,41,19],[47,12,41,19,"useAuth"],[47,24,41,26],[47,25,41,26,"useAuth"],[47,32,41,26],[47,34,41,27],[47,35,41,28],[48,4,42,2],[48,10,42,8],[48,11,42,9,"isPremium"],[48,20,42,18],[48,22,42,20,"setIsPremium"],[48,34,42,32],[48,35,42,33],[48,38,42,36],[48,42,42,36,"useState"],[48,48,42,44],[48,49,42,44,"useState"],[48,57,42,44],[48,59,42,45],[48,64,42,50],[48,65,42,51],[49,4,43,2],[49,10,43,8],[49,11,43,9,"subscriptionPlan"],[49,27,43,25],[49,29,43,27,"setSubscriptionPlan"],[49,48,43,46],[49,49,43,47],[49,52,43,50],[49,56,43,50,"useState"],[49,62,43,58],[49,63,43,58,"useState"],[49,71,43,58],[49,73,43,74],[49,77,43,78],[49,78,43,79],[50,4,44,2],[50,10,44,8],[50,11,44,9,"actionCount"],[50,22,44,20],[50,24,44,22,"setActionCount"],[50,38,44,36],[50,39,44,37],[50,42,44,40],[50,46,44,40,"useState"],[50,52,44,48],[50,53,44,48,"useState"],[50,61,44,48],[50,63,44,49],[50,64,44,50],[50,65,44,51],[52,4,46,2],[53,4,47,2],[53,10,47,8,"showAds"],[53,17,47,15],[53,20,47,18],[53,21,47,19,"isPremium"],[53,30,47,28],[54,4,49,2],[54,10,49,8,"refreshPremiumStatus"],[54,30,49,28],[54,33,49,31],[54,39,49,31,"refreshPremiumStatus"],[54,40,49,31],[54,45,49,43],[55,6,50,4],[55,10,50,8],[55,11,50,9,"user"],[55,15,50,13],[55,17,50,15],[56,8,51,6,"setIsPremium"],[56,20,51,18],[56,21,51,19],[56,26,51,24],[56,27,51,25],[57,8,52,6,"setSubscriptionPlan"],[57,27,52,25],[57,28,52,26],[57,32,52,30],[57,33,52,31],[58,8,53,6],[59,6,54,4],[60,6,56,4],[60,10,56,8],[61,8,57,6],[61,14,57,12,"response"],[61,22,57,20],[61,25,57,23],[61,31,57,29,"api"],[61,34,57,32],[61,35,57,32,"default"],[61,42,57,32],[61,43,57,33,"get"],[61,46,57,36],[61,47,57,37],[61,76,57,66],[61,77,57,67],[62,8,58,6],[62,14,58,12,"data"],[62,18,58,16],[62,21,58,19,"response"],[62,29,58,27],[62,30,58,28,"data"],[62,34,58,32],[64,8,60,6],[65,8,61,6],[65,14,61,12,"isActive"],[65,22,61,20],[65,25,61,23,"data"],[65,29,61,27],[65,30,61,28,"status"],[65,36,61,34],[65,41,61,39],[65,49,61,47],[65,53,61,51,"data"],[65,57,61,55],[65,58,61,56,"status"],[65,64,61,62],[65,69,61,67],[65,79,61,77],[66,8,62,6,"setIsPremium"],[66,20,62,18],[66,21,62,19,"isActive"],[66,29,62,27],[66,30,62,28],[67,8,63,6,"setSubscriptionPlan"],[67,27,63,25],[67,28,63,26,"data"],[67,32,63,30],[67,33,63,31,"plan"],[67,37,63,35],[67,41,63,39],[67,45,63,43],[67,46,63,44],[68,6,64,4],[68,7,64,5],[68,8,64,6],[68,15,64,13,"error"],[68,20,64,18],[68,22,64,20],[69,8,65,6,"console"],[69,15,65,13],[69,16,65,14,"log"],[69,19,65,17],[69,20,65,18],[69,52,65,50],[69,54,65,52,"error"],[69,59,65,57],[69,60,65,58],[70,8,66,6,"setIsPremium"],[70,20,66,18],[70,21,66,19],[70,26,66,24],[70,27,66,25],[71,8,67,6,"setSubscriptionPlan"],[71,27,67,25],[71,28,67,26],[71,32,67,30],[71,33,67,31],[72,6,68,4],[73,4,69,2],[73,5,69,3],[74,4,71,2],[74,8,71,2,"useEffect"],[74,14,71,11],[74,15,71,11,"useEffect"],[74,24,71,11],[74,26,71,12],[74,32,71,18],[75,6,72,4,"refreshPremiumStatus"],[75,26,72,24],[75,27,72,25],[75,28,72,26],[76,4,73,2],[76,5,73,3],[76,7,73,5],[76,8,73,6,"user"],[76,12,73,10],[76,13,73,11],[76,14,73,12],[77,4,75,2],[77,10,75,8,"incrementAction"],[77,25,75,23],[77,28,75,26,"incrementAction"],[77,29,75,26],[77,34,75,32],[78,6,76,4,"setActionCount"],[78,20,76,18],[78,21,76,19,"prev"],[78,25,76,23],[78,29,76,27,"prev"],[78,33,76,31],[78,36,76,34],[78,37,76,35],[78,38,76,36],[79,4,77,2],[79,5,77,3],[80,4,79,2],[80,10,79,8,"shouldShowInterstitial"],[80,32,79,30],[80,35,79,33,"shouldShowInterstitial"],[80,36,79,33],[80,41,79,48],[81,6,80,4],[82,6,81,4],[82,10,81,8,"isPremium"],[82,19,81,17],[82,21,81,19],[82,28,81,26],[82,33,81,31],[83,6,82,4],[83,13,82,11,"actionCount"],[83,24,82,22],[83,27,82,25],[83,28,82,26],[83,32,82,30,"actionCount"],[83,43,82,41],[83,46,82,44],[83,47,82,45],[83,52,82,50],[83,53,82,51],[84,4,83,2],[84,5,83,3],[85,4,85,2],[85,24,86,4],[85,28,86,4,"_reactJsxDevRuntime"],[85,47,86,4],[85,48,86,4,"jsxDEV"],[85,54,86,4],[85,56,86,5,"AdsContext"],[85,66,86,15],[85,67,86,16,"Provider"],[85,75,86,24],[86,6,87,6,"value"],[86,11,87,11],[86,13,87,13],[87,8,88,8,"isPremium"],[87,17,88,17],[88,8,89,8,"showAds"],[88,15,89,15],[89,8,90,8,"bannerId"],[89,16,90,16],[89,18,90,18,"BANNER_AD_UNIT_ID"],[89,35,90,35],[90,8,91,8,"interstitialId"],[90,22,91,22],[90,24,91,24,"INTERSTITIAL_AD_UNIT_ID"],[90,47,91,47],[91,8,92,8,"appId"],[91,13,92,13],[91,15,92,15,"ADMOB_APP_ID"],[91,27,92,27],[92,8,93,8,"actionCount"],[92,19,93,19],[93,8,94,8,"incrementAction"],[93,23,94,23],[94,8,95,8,"shouldShowInterstitial"],[94,30,95,30],[95,8,96,8,"refreshPremiumStatus"],[95,28,96,28],[96,8,97,8,"subscriptionPlan"],[97,6,98,6],[97,7,98,8],[98,6,98,8,"children"],[98,14,98,8],[98,16,100,7,"children"],[99,4,100,15],[100,6,100,15,"fileName"],[100,14,100,15],[100,16,100,15,"_jsxFileName"],[100,28,100,15],[101,6,100,15,"lineNumber"],[101,16,100,15],[102,6,100,15,"columnNumber"],[102,18,100,15],[103,4,100,15],[103,11,101,25],[103,12,101,26],[104,2,103,0],[105,2,105,7],[105,11,105,16,"useAds"],[105,17,105,22,"useAds"],[105,18,105,22],[105,20,105,25],[106,4,106,2],[106,10,106,8,"context"],[106,17,106,15],[106,20,106,18],[106,24,106,18,"useContext"],[106,30,106,28],[106,31,106,28,"useContext"],[106,41,106,28],[106,43,106,29,"AdsContext"],[106,53,106,39],[106,54,106,40],[107,4,107,2],[107,8,107,6,"context"],[107,15,107,13],[107,20,107,18,"undefined"],[107,29,107,27],[107,31,107,29],[108,6,108,4],[108,12,108,10],[108,16,108,14,"Error"],[108,21,108,19],[108,22,108,20],[108,65,108,63],[108,66,108,64],[109,4,109,2],[110,4,110,2],[110,11,110,9,"context"],[110,18,110,16],[111,2,111,0],[112,0,111,1],[112,3]],"functionMap":{"names":["<global>","AdsProvider","refreshPremiumStatus","useEffect$argument_0","incrementAction","setActionCount$argument_0","shouldShowInterstitial","useAds"],"mappings":"AAA;OCuC;+BCS;GDoB;YEE;GFE;0BGE;mBCC,gBD;GHC;iCKE;GLI;CDoB;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}