{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":48,"index":179}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":180},"end":{"line":4,"column":33,"index":213}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AdsContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // AdMob Production IDs for AÃLA\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AdsProvider = AdsProvider;\n  exports.useAds = useAds;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const ADMOB_APP_ID = Platform.default.select({\n    ios: 'ca-app-pub-8309745338282834~5153578079',\n    android: 'ca-app-pub-8309745338282834~6476050996',\n    default: 'ca-app-pub-8309745338282834~6476050996'\n  });\n  const BANNER_AD_UNIT_ID = Platform.default.select({\n    ios: 'ca-app-pub-8309745338282834/8765520025',\n    // Production iOS Banner ID\n    android: 'ca-app-pub-8309745338282834/9092823082',\n    // Production Android Banner ID\n    default: 'ca-app-pub-8309745338282834/9092823082'\n  });\n  const INTERSTITIAL_AD_UNIT_ID = Platform.default.select({\n    ios: 'ca-app-pub-3940256099942544/4411468910',\n    // Test ID for iOS (create interstitial ad unit in AdMob if needed)\n    android: 'ca-app-pub-3940256099942544/1033173712',\n    // Test ID for Android (create interstitial ad unit in AdMob if needed)\n    default: 'ca-app-pub-3940256099942544/1033173712'\n  });\n  const AdsContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AdsProvider({\n    children\n  }) {\n    _s();\n    const {\n      user\n    } = (0, _AuthContext.useAuth)();\n    const [isPremium, setIsPremium] = (0, _react.useState)(false);\n    const [subscriptionPlan, setSubscriptionPlan] = (0, _react.useState)(null);\n    const [actionCount, setActionCount] = (0, _react.useState)(0);\n\n    // Determine if we should show ads\n    const showAds = !isPremium;\n    const refreshPremiumStatus = async () => {\n      if (!user) {\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n        return;\n      }\n      try {\n        const response = await api.default.get('/stripe/subscription-status');\n        const data = response.data;\n\n        // User is premium if they have an active subscription or lifetime purchase\n        const isActive = data.status === 'active' || data.status === 'lifetime';\n        setIsPremium(isActive);\n        setSubscriptionPlan(data.plan || null);\n      } catch (error) {\n        console.log('Error checking premium status:', error);\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      refreshPremiumStatus();\n    }, [user]);\n    const incrementAction = () => {\n      setActionCount(prev => prev + 1);\n    };\n    const shouldShowInterstitial = () => {\n      // Show interstitial every 5 actions for free users\n      if (isPremium) return false;\n      return actionCount > 0 && actionCount % 5 === 0;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AdsContext.Provider, {\n      value: {\n        isPremium,\n        showAds,\n        bannerId: BANNER_AD_UNIT_ID,\n        interstitialId: INTERSTITIAL_AD_UNIT_ID,\n        appId: ADMOB_APP_ID,\n        actionCount,\n        incrementAction,\n        shouldShowInterstitial,\n        refreshPremiumStatus,\n        subscriptionPlan\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AdsProvider, \"9iXPGY/P6qB9QJQbQXZbZllZi3o=\", false, function () {\n    return [_AuthContext.useAuth];\n  });\n  _c = AdsProvider;\n  function useAds() {\n    _s2();\n    const context = (0, _react.useContext)(AdsContext);\n    if (context === undefined) {\n      throw new Error('useAds must be used within an AdsProvider');\n    }\n    return context;\n  }\n  _s2(useAds, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AdsProvider\");\n});","lineCount":123,"map":[[6,26,6,0],[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"value"],[8,9,6,0],[9,2,6,0],[10,2,6,0],[10,11,6,0,"_interopDefault"],[10,27,6,0,"e"],[10,28,6,0],[11,4,6,0],[11,11,6,0,"e"],[11,12,6,0],[11,16,6,0,"e"],[11,17,6,0],[11,18,6,0,"__esModule"],[11,28,6,0],[11,31,6,0,"e"],[11,32,6,0],[12,6,6,0,"default"],[12,13,6,0],[12,15,6,0,"e"],[13,4,6,0],[14,2,6,0],[15,2,40,0,"exports"],[15,9,40,0],[15,10,40,0,"AdsProvider"],[15,21,40,0],[15,24,40,0,"AdsProvider"],[15,35,40,0],[16,2,105,0,"exports"],[16,9,105,0],[16,10,105,0,"useAds"],[16,16,105,0],[16,19,105,0,"useAds"],[16,25,105,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,1,89],[18,6,1,89,"_reactNativeWebDistExportsPlatform"],[18,40,1,89],[18,43,1,89,"require"],[18,50,1,89],[18,51,1,89,"_dependencyMap"],[18,65,1,89],[19,2,1,89],[19,6,1,89,"Platform"],[19,14,1,89],[19,17,1,89,"_interopDefault"],[19,32,1,89],[19,33,1,89,"_reactNativeWebDistExportsPlatform"],[19,67,1,89],[20,2,3,0],[20,6,3,0,"_AuthContext"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,4,0],[21,6,4,0,"_servicesApi"],[21,18,4,0],[21,21,4,0,"require"],[21,28,4,0],[21,29,4,0,"_dependencyMap"],[21,43,4,0],[22,2,4,0],[22,6,4,0,"api"],[22,9,4,0],[22,12,4,0,"_interopDefault"],[22,27,4,0],[22,28,4,0,"_servicesApi"],[22,40,4,0],[23,2,4,33],[23,6,4,33,"_reactJsxDevRuntime"],[23,25,4,33],[23,28,4,33,"require"],[23,35,4,33],[23,36,4,33,"_dependencyMap"],[23,50,4,33],[24,2,7,0],[24,8,7,6,"ADMOB_APP_ID"],[24,20,7,18],[24,23,7,21,"Platform"],[24,31,7,29],[24,32,7,29,"default"],[24,39,7,29],[24,40,7,30,"select"],[24,46,7,36],[24,47,7,37],[25,4,8,2,"ios"],[25,7,8,5],[25,9,8,7],[25,49,8,47],[26,4,9,2,"android"],[26,11,9,9],[26,13,9,11],[26,53,9,51],[27,4,10,2,"default"],[27,11,10,9],[27,13,10,11],[28,2,11,0],[28,3,11,1],[28,4,11,2],[29,2,13,0],[29,8,13,6,"BANNER_AD_UNIT_ID"],[29,25,13,23],[29,28,13,26,"Platform"],[29,36,13,34],[29,37,13,34,"default"],[29,44,13,34],[29,45,13,35,"select"],[29,51,13,41],[29,52,13,42],[30,4,14,2,"ios"],[30,7,14,5],[30,9,14,7],[30,49,14,47],[31,4,14,49],[32,4,15,2,"android"],[32,11,15,9],[32,13,15,11],[32,53,15,51],[33,4,15,53],[34,4,16,2,"default"],[34,11,16,9],[34,13,16,11],[35,2,17,0],[35,3,17,1],[35,4,17,2],[36,2,19,0],[36,8,19,6,"INTERSTITIAL_AD_UNIT_ID"],[36,31,19,29],[36,34,19,32,"Platform"],[36,42,19,40],[36,43,19,40,"default"],[36,50,19,40],[36,51,19,41,"select"],[36,57,19,47],[36,58,19,48],[37,4,20,2,"ios"],[37,7,20,5],[37,9,20,7],[37,49,20,47],[38,4,20,49],[39,4,21,2,"android"],[39,11,21,9],[39,13,21,11],[39,53,21,51],[40,4,21,53],[41,4,22,2,"default"],[41,11,22,9],[41,13,22,11],[42,2,23,0],[42,3,23,1],[42,4,23,2],[43,2,38,0],[43,8,38,6,"AdsContext"],[43,18,38,16],[43,34,38,19],[43,38,38,19,"createContext"],[43,44,38,32],[43,45,38,32,"createContext"],[43,58,38,32],[43,60,38,61,"undefined"],[43,69,38,70],[43,70,38,71],[44,2,40,7],[44,11,40,16,"AdsProvider"],[44,22,40,27,"AdsProvider"],[44,23,40,28],[45,4,40,30,"children"],[46,2,40,64],[46,3,40,65],[46,5,40,67],[47,4,40,67,"_s"],[47,6,40,67],[48,4,41,2],[48,10,41,8],[49,6,41,10,"user"],[50,4,41,15],[50,5,41,16],[50,8,41,19],[50,12,41,19,"useAuth"],[50,24,41,26],[50,25,41,26,"useAuth"],[50,32,41,26],[50,34,41,27],[50,35,41,28],[51,4,42,2],[51,10,42,8],[51,11,42,9,"isPremium"],[51,20,42,18],[51,22,42,20,"setIsPremium"],[51,34,42,32],[51,35,42,33],[51,38,42,36],[51,42,42,36,"useState"],[51,48,42,44],[51,49,42,44,"useState"],[51,57,42,44],[51,59,42,45],[51,64,42,50],[51,65,42,51],[52,4,43,2],[52,10,43,8],[52,11,43,9,"subscriptionPlan"],[52,27,43,25],[52,29,43,27,"setSubscriptionPlan"],[52,48,43,46],[52,49,43,47],[52,52,43,50],[52,56,43,50,"useState"],[52,62,43,58],[52,63,43,58,"useState"],[52,71,43,58],[52,73,43,74],[52,77,43,78],[52,78,43,79],[53,4,44,2],[53,10,44,8],[53,11,44,9,"actionCount"],[53,22,44,20],[53,24,44,22,"setActionCount"],[53,38,44,36],[53,39,44,37],[53,42,44,40],[53,46,44,40,"useState"],[53,52,44,48],[53,53,44,48,"useState"],[53,61,44,48],[53,63,44,49],[53,64,44,50],[53,65,44,51],[55,4,46,2],[56,4,47,2],[56,10,47,8,"showAds"],[56,17,47,15],[56,20,47,18],[56,21,47,19,"isPremium"],[56,30,47,28],[57,4,49,2],[57,10,49,8,"refreshPremiumStatus"],[57,30,49,28],[57,33,49,31],[57,39,49,31,"refreshPremiumStatus"],[57,40,49,31],[57,45,49,43],[58,6,50,4],[58,10,50,8],[58,11,50,9,"user"],[58,15,50,13],[58,17,50,15],[59,8,51,6,"setIsPremium"],[59,20,51,18],[59,21,51,19],[59,26,51,24],[59,27,51,25],[60,8,52,6,"setSubscriptionPlan"],[60,27,52,25],[60,28,52,26],[60,32,52,30],[60,33,52,31],[61,8,53,6],[62,6,54,4],[63,6,56,4],[63,10,56,8],[64,8,57,6],[64,14,57,12,"response"],[64,22,57,20],[64,25,57,23],[64,31,57,29,"api"],[64,34,57,32],[64,35,57,32,"default"],[64,42,57,32],[64,43,57,33,"get"],[64,46,57,36],[64,47,57,37],[64,76,57,66],[64,77,57,67],[65,8,58,6],[65,14,58,12,"data"],[65,18,58,16],[65,21,58,19,"response"],[65,29,58,27],[65,30,58,28,"data"],[65,34,58,32],[67,8,60,6],[68,8,61,6],[68,14,61,12,"isActive"],[68,22,61,20],[68,25,61,23,"data"],[68,29,61,27],[68,30,61,28,"status"],[68,36,61,34],[68,41,61,39],[68,49,61,47],[68,53,61,51,"data"],[68,57,61,55],[68,58,61,56,"status"],[68,64,61,62],[68,69,61,67],[68,79,61,77],[69,8,62,6,"setIsPremium"],[69,20,62,18],[69,21,62,19,"isActive"],[69,29,62,27],[69,30,62,28],[70,8,63,6,"setSubscriptionPlan"],[70,27,63,25],[70,28,63,26,"data"],[70,32,63,30],[70,33,63,31,"plan"],[70,37,63,35],[70,41,63,39],[70,45,63,43],[70,46,63,44],[71,6,64,4],[71,7,64,5],[71,8,64,6],[71,15,64,13,"error"],[71,20,64,18],[71,22,64,20],[72,8,65,6,"console"],[72,15,65,13],[72,16,65,14,"log"],[72,19,65,17],[72,20,65,18],[72,52,65,50],[72,54,65,52,"error"],[72,59,65,57],[72,60,65,58],[73,8,66,6,"setIsPremium"],[73,20,66,18],[73,21,66,19],[73,26,66,24],[73,27,66,25],[74,8,67,6,"setSubscriptionPlan"],[74,27,67,25],[74,28,67,26],[74,32,67,30],[74,33,67,31],[75,6,68,4],[76,4,69,2],[76,5,69,3],[77,4,71,2],[77,8,71,2,"useEffect"],[77,14,71,11],[77,15,71,11,"useEffect"],[77,24,71,11],[77,26,71,12],[77,32,71,18],[78,6,72,4,"refreshPremiumStatus"],[78,26,72,24],[78,27,72,25],[78,28,72,26],[79,4,73,2],[79,5,73,3],[79,7,73,5],[79,8,73,6,"user"],[79,12,73,10],[79,13,73,11],[79,14,73,12],[80,4,75,2],[80,10,75,8,"incrementAction"],[80,25,75,23],[80,28,75,26,"incrementAction"],[80,29,75,26],[80,34,75,32],[81,6,76,4,"setActionCount"],[81,20,76,18],[81,21,76,19,"prev"],[81,25,76,23],[81,29,76,27,"prev"],[81,33,76,31],[81,36,76,34],[81,37,76,35],[81,38,76,36],[82,4,77,2],[82,5,77,3],[83,4,79,2],[83,10,79,8,"shouldShowInterstitial"],[83,32,79,30],[83,35,79,33,"shouldShowInterstitial"],[83,36,79,33],[83,41,79,48],[84,6,80,4],[85,6,81,4],[85,10,81,8,"isPremium"],[85,19,81,17],[85,21,81,19],[85,28,81,26],[85,33,81,31],[86,6,82,4],[86,13,82,11,"actionCount"],[86,24,82,22],[86,27,82,25],[86,28,82,26],[86,32,82,30,"actionCount"],[86,43,82,41],[86,46,82,44],[86,47,82,45],[86,52,82,50],[86,53,82,51],[87,4,83,2],[87,5,83,3],[88,4,85,2],[88,24,86,4],[88,28,86,4,"_reactJsxDevRuntime"],[88,47,86,4],[88,48,86,4,"jsxDEV"],[88,54,86,4],[88,56,86,5,"AdsContext"],[88,66,86,15],[88,67,86,16,"Provider"],[88,75,86,24],[89,6,87,6,"value"],[89,11,87,11],[89,13,87,13],[90,8,88,8,"isPremium"],[90,17,88,17],[91,8,89,8,"showAds"],[91,15,89,15],[92,8,90,8,"bannerId"],[92,16,90,16],[92,18,90,18,"BANNER_AD_UNIT_ID"],[92,35,90,35],[93,8,91,8,"interstitialId"],[93,22,91,22],[93,24,91,24,"INTERSTITIAL_AD_UNIT_ID"],[93,47,91,47],[94,8,92,8,"appId"],[94,13,92,13],[94,15,92,15,"ADMOB_APP_ID"],[94,27,92,27],[95,8,93,8,"actionCount"],[95,19,93,19],[96,8,94,8,"incrementAction"],[96,23,94,23],[97,8,95,8,"shouldShowInterstitial"],[97,30,95,30],[98,8,96,8,"refreshPremiumStatus"],[98,28,96,28],[99,8,97,8,"subscriptionPlan"],[100,6,98,6],[100,7,98,8],[101,6,98,8,"children"],[101,14,98,8],[101,16,100,7,"children"],[102,4,100,15],[103,6,100,15,"fileName"],[103,14,100,15],[103,16,100,15,"_jsxFileName"],[103,28,100,15],[104,6,100,15,"lineNumber"],[104,16,100,15],[105,6,100,15,"columnNumber"],[105,18,100,15],[106,4,100,15],[106,11,101,25],[106,12,101,26],[107,2,103,0],[108,2,103,1,"_s"],[108,4,103,1],[108,5,40,16,"AdsProvider"],[108,16,40,27],[109,4,40,27],[109,12,41,19,"useAuth"],[109,24,41,26],[109,25,41,26,"useAuth"],[109,32,41,26],[110,2,41,26],[111,2,41,26,"_c"],[111,4,41,26],[111,7,40,16,"AdsProvider"],[111,18,40,27],[112,2,105,7],[112,11,105,16,"useAds"],[112,17,105,22,"useAds"],[112,18,105,22],[112,20,105,25],[113,4,105,25,"_s2"],[113,7,105,25],[114,4,106,2],[114,10,106,8,"context"],[114,17,106,15],[114,20,106,18],[114,24,106,18,"useContext"],[114,30,106,28],[114,31,106,28,"useContext"],[114,41,106,28],[114,43,106,29,"AdsContext"],[114,53,106,39],[114,54,106,40],[115,4,107,2],[115,8,107,6,"context"],[115,15,107,13],[115,20,107,18,"undefined"],[115,29,107,27],[115,31,107,29],[116,6,108,4],[116,12,108,10],[116,16,108,14,"Error"],[116,21,108,19],[116,22,108,20],[116,65,108,63],[116,66,108,64],[117,4,109,2],[118,4,110,2],[118,11,110,9,"context"],[118,18,110,16],[119,2,111,0],[120,2,111,1,"_s2"],[120,5,111,1],[120,6,105,16,"useAds"],[120,12,105,22],[121,2,105,22],[121,6,105,22,"_c"],[121,8,105,22],[122,2,105,22,"$RefreshReg$"],[122,14,105,22],[122,15,105,22,"_c"],[122,17,105,22],[123,0,105,22],[123,3]],"functionMap":{"names":["<global>","AdsProvider","refreshPremiumStatus","useEffect$argument_0","incrementAction","setActionCount$argument_0","shouldShowInterstitial","useAds"],"mappings":"AAA;OCuC;+BCS;GDoB;YEE;GFE;0BGE;mBCC,gBD;GHC;iCKE;GLI;CDoB;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}