{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return c}});var t=r(d[0]),o=e(r(d[1])),u=e(r(d[2])),n=r(d[3]);const s=(0,t.createContext)(void 0),l=({children:e})=>{const[l,c]=(0,t.useState)(null),[f,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{w()},[]);const w=async()=>{try{const e=await o.default.getItem('auth_token');if(e){u.default.defaults.headers.common.Authorization=`Bearer ${e}`;const t=await u.default.get('/auth/me');c(t.data)}}catch(e){await o.default.removeItem('auth_token'),delete u.default.defaults.headers.common.Authorization}finally{h(!1)}},_=async()=>{await o.default.removeItem('auth_token'),delete u.default.defaults.headers.common.Authorization,c(null)};return(0,n.jsx)(s.Provider,{value:{user:l,loading:f,login:async(e,t)=>{const n=await u.default.post('/auth/login',{email:e,password:t}),{access_token:s,user:l}=n.data;await o.default.setItem('auth_token',s),u.default.defaults.headers.common.Authorization=`Bearer ${s}`,c(l)},loginWithGoogle:async e=>{const t=await u.default.post('/auth/google',{id_token:e}),{access_token:n,user:s}=t.data;await o.default.setItem('auth_token',n),u.default.defaults.headers.common.Authorization=`Bearer ${n}`,c(s)},register:async e=>{const t=await u.default.post('/auth/register',e),{access_token:n,user:s}=t.data;await o.default.setItem('auth_token',n),u.default.defaults.headers.common.Authorization=`Bearer ${n}`,c(s)},logout:_,refreshUser:async()=>{try{const e=await u.default.get('/auth/me');c(e.data)}catch(e){await _()}},isAdmin:()=>'admin'===l?.role},children:e})},c=()=>{const e=(0,t.useContext)(s);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e}});","lineCount":1,"map":[[1,143,37,0,"Object"],[1,150,37,0,"defineProperty"],[1,165,37,0,"_e"],[1,168,37,0],[1,184,37,0,"enumerable"],[1,196,37,0],[1,198,37,0,"get"],[1,202,37,0],[1,220,37,0,"AuthProvider"],[1,221,37,0],[1,225,114,0,"Object"],[1,232,114,0,"defineProperty"],[1,247,114,0,"_e"],[1,250,114,0],[1,261,114,0,"enumerable"],[1,273,114,0],[1,275,114,0,"get"],[1,279,114,0],[1,297,114,0,"useAuth"],[1,298,114,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"api"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,34,"_reactJsxRuntime"],[1,344,3,34,"r"],[1,346,3,34,"d"],[1,348,3,34],[1,352,35,0],[1,358,35,6,"AuthContext"],[1,361,35,20],[1,363,35,20,"createContext"],[1,365,35,33,"createContext"],[1,385,35,63,"undefined"],[1,388,37,13,"AuthProvider"],[1,390,37,63,"AuthProvider"],[1,392,37,66,"children"],[1,407,38,2],[1,413,38,9,"user"],[1,415,38,15,"setUser"],[1,419,38,26],[1,421,38,26,"useState"],[1,423,38,34,"useState"],[1,433,38,48],[1,440,39,9,"loading"],[1,442,39,18,"setLoading"],[1,446,39,32],[1,448,39,32,"useState"],[1,450,39,40,"useState"],[1,461,39,41],[1,465,41,2],[1,467,41,2,"useEffect"],[1,469,41,11,"useEffect"],[1,480,41,12],[1,485,42,4,"checkAuth"],[1,490,43,5],[1,494,45,2],[1,500,45,8,"checkAuth"],[1,502,45,20,"async"],[1,512,46,4],[1,516,47,6],[1,522,47,12,"token"],[1,530,47,26,"AsyncStorage"],[1,532,47,38,"default"],[1,540,47,39,"getItem"],[1,548,47,47],[1,562,48,6],[1,565,48,10,"token"],[1,567,48,17],[1,568,49,8,"api"],[1,570,49,11,"default"],[1,578,49,12,"defaults"],[1,587,49,21,"headers"],[1,595,49,29,"common"],[1,602,49,51],[1,616,49,55],[1,626,49,65,"token"],[1,630,50,8],[1,636,50,14,"response"],[1,644,50,31,"api"],[1,646,50,34,"default"],[1,654,50,35,"get"],[1,658,50,39],[1,670,51,8,"setUser"],[1,672,51,16,"response"],[1,674,51,25,"data"],[1,679,52,6],[1,680,53,4],[1,681,53,6],[1,687,53,13,"error"],[1,696,54,12,"AsyncStorage"],[1,698,54,24,"default"],[1,706,54,25,"removeItem"],[1,717,54,36],[1,738,55,13,"api"],[1,740,55,16,"default"],[1,748,55,17,"defaults"],[1,757,55,26,"headers"],[1,765,55,34,"common"],[1,772,55,56],[1,785,56,4],[1,786,56,5],[1,794,57,6,"setLoading"],[1,797,57,17],[1,799,58,4],[1,802,88,8,"logout"],[1,804,88,17,"async"],[1,820,89,10,"AsyncStorage"],[1,822,89,22,"default"],[1,830,89,23,"removeItem"],[1,841,89,34],[1,862,90,11,"api"],[1,864,90,14,"default"],[1,872,90,15,"defaults"],[1,881,90,24,"headers"],[1,889,90,32,"common"],[1,896,90,54],[1,910,91,4,"setUser"],[1,912,91,12],[1,919,107,2],[1,926,108,4],[1,928,108,4,"_reactJsxRuntime"],[1,930,108,4,"jsx"],[1,935,108,5,"AuthContext"],[1,937,108,17,"Provider"],[1,946,108,25],[1,947,108,26,"value"],[1,953,108,33],[1,954,108,35,"user"],[1,961,108,41,"loading"],[1,971,108,50,"login"],[1,977,61,16,"async"],[1,983,61,23,"email"],[1,985,61,38,"password"],[1,990,62,4],[1,996,62,10,"response"],[1,1004,62,27,"api"],[1,1006,62,30,"default"],[1,1014,62,31,"post"],[1,1019,62,36],[1,1033,62,51],[1,1034,62,53,"email"],[1,1042,62,60,"password"],[1,1056,63,10,"access_token"],[1,1069,63,12,"access_token"],[1,1071,63,26,"user"],[1,1076,63,32,"userData"],[1,1079,63,45,"response"],[1,1081,63,54,"data"],[1,1092,65,10,"AsyncStorage"],[1,1094,65,22,"default"],[1,1102,65,23,"setItem"],[1,1110,65,31],[1,1123,65,45,"access_token"],[1,1126,66,4,"api"],[1,1128,66,7,"default"],[1,1136,66,8,"defaults"],[1,1145,66,17,"headers"],[1,1153,66,25,"common"],[1,1160,66,47],[1,1174,66,51],[1,1184,66,61,"access_token"],[1,1188,67,4,"setUser"],[1,1190,67,12,"userData"],[1,1194,108,57,"loginWithGoogle"],[1,1210,70,26,"async"],[1,1220,71,4],[1,1226,71,10,"response"],[1,1234,71,27,"api"],[1,1236,71,30,"default"],[1,1244,71,31,"post"],[1,1249,71,36],[1,1264,71,52],[1,1265,71,54,"id_token"],[1,1274,71,64,"idToken"],[1,1279,72,10,"access_token"],[1,1292,72,12,"access_token"],[1,1294,72,26,"user"],[1,1299,72,32,"userData"],[1,1302,72,45,"response"],[1,1304,72,54,"data"],[1,1315,74,10,"AsyncStorage"],[1,1317,74,22,"default"],[1,1325,74,23,"setItem"],[1,1333,74,31],[1,1346,74,45,"access_token"],[1,1349,75,4,"api"],[1,1351,75,7,"default"],[1,1359,75,8,"defaults"],[1,1368,75,17,"headers"],[1,1376,75,25,"common"],[1,1383,75,47],[1,1397,75,51],[1,1407,75,61,"access_token"],[1,1411,76,4,"setUser"],[1,1413,76,12,"userData"],[1,1417,108,74,"register"],[1,1426,79,19,"async"],[1,1436,80,4],[1,1442,80,10,"response"],[1,1450,80,27,"api"],[1,1452,80,30,"default"],[1,1460,80,31,"post"],[1,1465,80,36],[1,1482,80,54,"data"],[1,1486,81,10,"access_token"],[1,1499,81,12,"access_token"],[1,1501,81,26,"user"],[1,1506,81,32,"userData"],[1,1509,81,45,"response"],[1,1511,81,54,"data"],[1,1522,83,10,"AsyncStorage"],[1,1524,83,22,"default"],[1,1532,83,23,"setItem"],[1,1540,83,31],[1,1553,83,45,"access_token"],[1,1556,84,4,"api"],[1,1558,84,7,"default"],[1,1566,84,8,"defaults"],[1,1575,84,17,"headers"],[1,1583,84,25,"common"],[1,1590,84,47],[1,1604,84,51],[1,1614,84,61,"access_token"],[1,1618,85,4,"setUser"],[1,1620,85,12,"userData"],[1,1624,108,84,"logout"],[1,1633,108,92,"refreshUser"],[1,1645,94,22,"async"],[1,1655,95,4],[1,1659,96,6],[1,1665,96,12,"response"],[1,1673,96,29,"api"],[1,1675,96,32,"default"],[1,1683,96,33,"get"],[1,1687,96,37],[1,1699,97,6,"setUser"],[1,1701,97,14,"response"],[1,1703,97,23,"data"],[1,1708,98,4],[1,1709,98,6],[1,1715,98,13,"error"],[1,1724,99,12,"logout"],[1,1727,100,4],[1,1730,108,105,"isAdmin"],[1,1738,103,18,"isAdmin"],[1,1742,104,26],[1,1752,104,11,"user"],[1,1755,104,17,"role"],[1,1761,108,115,"children"],[1,1770,109,7,"children"],[1,1775,114,13,"useAuth"],[1,1777,114,23,"useAuth"],[1,1782,115,2],[1,1788,115,8,"context"],[1,1791,115,18],[1,1793,115,18,"useContext"],[1,1795,115,28,"useContext"],[1,1807,115,29,"AuthContext"],[1,1810,116,2],[1,1818,116,18,"undefined"],[1,1822,116,6,"context"],[1,1824,117,4],[1,1830,117,10],[1,1834,117,14,"Error"],[1,1840,117,20],[1,1887,119,2],[1,1894,119,9,"context"],[1,1896,120,2],[1,1899]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","loginWithGoogle","register","logout","refreshUser","isAdmin","useAuth"],"mappings":"AAA;+DCoC;YCI;GDE;oBEE;GFc;gBGE;GHO;0BIE;GJO;mBKE;GLO;iBME;GNI;sBOE;GPO;kBQE;GRE;CDO;uBUE;CVM"},"hasCjsExports":false},"type":"js/module"}]}