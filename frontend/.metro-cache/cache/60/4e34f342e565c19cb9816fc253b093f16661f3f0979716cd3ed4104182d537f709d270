{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          api.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('auth_token');\n        delete api.default.defaults.headers.common['Authorization'];\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/auth/login', {\n        email,\n        password\n      });\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      setUser(userData);\n    };\n    const register = async data => {\n      const response = await api.default.post('/auth/register', data);\n      const {\n        access_token,\n        user: userData\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      delete api.default.defaults.headers.common['Authorization'];\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        await logout();\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":114,"map":[[13,2,34,0,"Object"],[13,8,34,0],[13,9,34,0,"defineProperty"],[13,23,34,0],[13,24,34,0,"exports"],[13,31,34,0],[14,4,34,0,"enumerable"],[14,14,34,0],[15,4,34,0,"get"],[15,7,34,0],[15,18,34,0,"get"],[15,19,34,0],[16,6,34,0],[16,13,34,0,"AuthProvider"],[16,25,34,0],[17,4,34,0],[18,2,34,0],[19,2,98,0,"Object"],[19,8,98,0],[19,9,98,0,"defineProperty"],[19,23,98,0],[19,24,98,0,"exports"],[19,31,98,0],[20,4,98,0,"enumerable"],[20,14,98,0],[21,4,98,0,"get"],[21,7,98,0],[21,18,98,0,"get"],[21,19,98,0],[22,6,98,0],[22,13,98,0,"useAuth"],[22,20,98,0],[23,4,98,0],[24,2,98,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_servicesApi"],[28,18,3,0],[28,21,3,0,"require"],[28,28,3,0],[28,29,3,0,"_dependencyMap"],[28,43,3,0],[29,2,3,0],[29,6,3,0,"api"],[29,9,3,0],[29,12,3,0,"_interopDefault"],[29,27,3,0],[29,28,3,0,"_servicesApi"],[29,40,3,0],[30,2,3,34],[30,6,3,34,"_reactJsxDevRuntime"],[30,25,3,34],[30,28,3,34,"require"],[30,35,3,34],[30,36,3,34,"_dependencyMap"],[30,50,3,34],[31,2,32,0],[31,8,32,6,"AuthContext"],[31,19,32,17],[31,35,32,20],[31,39,32,20,"createContext"],[31,45,32,33],[31,46,32,33,"createContext"],[31,59,32,33],[31,61,32,63,"undefined"],[31,70,32,72],[31,71,32,73],[32,2,34,7],[32,8,34,13,"AuthProvider"],[32,20,34,60],[32,23,34,63,"AuthProvider"],[32,24,34,64],[33,4,34,66,"children"],[34,2,34,75],[34,3,34,76],[34,8,34,81],[35,4,35,2],[35,10,35,8],[35,11,35,9,"user"],[35,15,35,13],[35,17,35,15,"setUser"],[35,24,35,22],[35,25,35,23],[35,28,35,26],[35,32,35,26,"useState"],[35,38,35,34],[35,39,35,34,"useState"],[35,47,35,34],[35,49,35,48],[35,53,35,52],[35,54,35,53],[36,4,36,2],[36,10,36,8],[36,11,36,9,"loading"],[36,18,36,16],[36,20,36,18,"setLoading"],[36,30,36,28],[36,31,36,29],[36,34,36,32],[36,38,36,32,"useState"],[36,44,36,40],[36,45,36,40,"useState"],[36,53,36,40],[36,55,36,41],[36,59,36,45],[36,60,36,46],[37,4,38,2],[37,8,38,2,"useEffect"],[37,14,38,11],[37,15,38,11,"useEffect"],[37,24,38,11],[37,26,38,12],[37,32,38,18],[38,6,39,4,"checkAuth"],[38,15,39,13],[38,16,39,14],[38,17,39,15],[39,4,40,2],[39,5,40,3],[39,7,40,5],[39,9,40,7],[39,10,40,8],[40,4,42,2],[40,10,42,8,"checkAuth"],[40,19,42,17],[40,22,42,20],[40,28,42,20,"checkAuth"],[40,29,42,20],[40,34,42,32],[41,6,43,4],[41,10,43,8],[42,8,44,6],[42,14,44,12,"token"],[42,19,44,17],[42,22,44,20],[42,28,44,26,"AsyncStorage"],[42,40,44,38],[42,41,44,38,"default"],[42,48,44,38],[42,49,44,39,"getItem"],[42,56,44,46],[42,57,44,47],[42,69,44,59],[42,70,44,60],[43,8,45,6],[43,12,45,10,"token"],[43,17,45,15],[43,19,45,17],[44,10,46,8,"api"],[44,13,46,11],[44,14,46,11,"default"],[44,21,46,11],[44,22,46,12,"defaults"],[44,30,46,20],[44,31,46,21,"headers"],[44,38,46,28],[44,39,46,29,"common"],[44,45,46,35],[44,46,46,36],[44,61,46,51],[44,62,46,52],[44,65,46,55],[44,75,46,65,"token"],[44,80,46,70],[44,82,46,72],[45,10,47,8],[45,16,47,14,"response"],[45,24,47,22],[45,27,47,25],[45,33,47,31,"api"],[45,36,47,34],[45,37,47,34,"default"],[45,44,47,34],[45,45,47,35,"get"],[45,48,47,38],[45,49,47,39],[45,59,47,49],[45,60,47,50],[46,10,48,8,"setUser"],[46,17,48,15],[46,18,48,16,"response"],[46,26,48,24],[46,27,48,25,"data"],[46,31,48,29],[46,32,48,30],[47,8,49,6],[48,6,50,4],[48,7,50,5],[48,8,50,6],[48,15,50,13,"error"],[48,20,50,18],[48,22,50,20],[49,8,51,6],[49,14,51,12,"AsyncStorage"],[49,26,51,24],[49,27,51,24,"default"],[49,34,51,24],[49,35,51,25,"removeItem"],[49,45,51,35],[49,46,51,36],[49,58,51,48],[49,59,51,49],[50,8,52,6],[50,15,52,13,"api"],[50,18,52,16],[50,19,52,16,"default"],[50,26,52,16],[50,27,52,17,"defaults"],[50,35,52,25],[50,36,52,26,"headers"],[50,43,52,33],[50,44,52,34,"common"],[50,50,52,40],[50,51,52,41],[50,66,52,56],[50,67,52,57],[51,6,53,4],[51,7,53,5],[51,16,53,14],[52,8,54,6,"setLoading"],[52,18,54,16],[52,19,54,17],[52,24,54,22],[52,25,54,23],[53,6,55,4],[54,4,56,2],[54,5,56,3],[55,4,58,2],[55,10,58,8,"login"],[55,15,58,13],[55,18,58,16],[55,24,58,16,"login"],[55,25,58,23,"email"],[55,30,58,36],[55,32,58,38,"password"],[55,40,58,54],[55,45,58,59],[56,6,59,4],[56,12,59,10,"response"],[56,20,59,18],[56,23,59,21],[56,29,59,27,"api"],[56,32,59,30],[56,33,59,30,"default"],[56,40,59,30],[56,41,59,31,"post"],[56,45,59,35],[56,46,59,36],[56,59,59,49],[56,61,59,51],[57,8,59,53,"email"],[57,13,59,58],[58,8,59,60,"password"],[59,6,59,69],[59,7,59,70],[59,8,59,71],[60,6,60,4],[60,12,60,10],[61,8,60,12,"access_token"],[61,20,60,24],[62,8,60,26,"user"],[62,12,60,30],[62,14,60,32,"userData"],[63,6,60,41],[63,7,60,42],[63,10,60,45,"response"],[63,18,60,53],[63,19,60,54,"data"],[63,23,60,58],[64,6,62,4],[64,12,62,10,"AsyncStorage"],[64,24,62,22],[64,25,62,22,"default"],[64,32,62,22],[64,33,62,23,"setItem"],[64,40,62,30],[64,41,62,31],[64,53,62,43],[64,55,62,45,"access_token"],[64,67,62,57],[64,68,62,58],[65,6,63,4,"api"],[65,9,63,7],[65,10,63,7,"default"],[65,17,63,7],[65,18,63,8,"defaults"],[65,26,63,16],[65,27,63,17,"headers"],[65,34,63,24],[65,35,63,25,"common"],[65,41,63,31],[65,42,63,32],[65,57,63,47],[65,58,63,48],[65,61,63,51],[65,71,63,61,"access_token"],[65,83,63,73],[65,85,63,75],[66,6,64,4,"setUser"],[66,13,64,11],[66,14,64,12,"userData"],[66,22,64,20],[66,23,64,21],[67,4,65,2],[67,5,65,3],[68,4,67,2],[68,10,67,8,"register"],[68,18,67,16],[68,21,67,19],[68,27,67,26,"data"],[68,31,67,44],[68,35,67,49],[69,6,68,4],[69,12,68,10,"response"],[69,20,68,18],[69,23,68,21],[69,29,68,27,"api"],[69,32,68,30],[69,33,68,30,"default"],[69,40,68,30],[69,41,68,31,"post"],[69,45,68,35],[69,46,68,36],[69,62,68,52],[69,64,68,54,"data"],[69,68,68,58],[69,69,68,59],[70,6,69,4],[70,12,69,10],[71,8,69,12,"access_token"],[71,20,69,24],[72,8,69,26,"user"],[72,12,69,30],[72,14,69,32,"userData"],[73,6,69,41],[73,7,69,42],[73,10,69,45,"response"],[73,18,69,53],[73,19,69,54,"data"],[73,23,69,58],[74,6,71,4],[74,12,71,10,"AsyncStorage"],[74,24,71,22],[74,25,71,22,"default"],[74,32,71,22],[74,33,71,23,"setItem"],[74,40,71,30],[74,41,71,31],[74,53,71,43],[74,55,71,45,"access_token"],[74,67,71,57],[74,68,71,58],[75,6,72,4,"api"],[75,9,72,7],[75,10,72,7,"default"],[75,17,72,7],[75,18,72,8,"defaults"],[75,26,72,16],[75,27,72,17,"headers"],[75,34,72,24],[75,35,72,25,"common"],[75,41,72,31],[75,42,72,32],[75,57,72,47],[75,58,72,48],[75,61,72,51],[75,71,72,61,"access_token"],[75,83,72,73],[75,85,72,75],[76,6,73,4,"setUser"],[76,13,73,11],[76,14,73,12,"userData"],[76,22,73,20],[76,23,73,21],[77,4,74,2],[77,5,74,3],[78,4,76,2],[78,10,76,8,"logout"],[78,16,76,14],[78,19,76,17],[78,25,76,17,"logout"],[78,26,76,17],[78,31,76,29],[79,6,77,4],[79,12,77,10,"AsyncStorage"],[79,24,77,22],[79,25,77,22,"default"],[79,32,77,22],[79,33,77,23,"removeItem"],[79,43,77,33],[79,44,77,34],[79,56,77,46],[79,57,77,47],[80,6,78,4],[80,13,78,11,"api"],[80,16,78,14],[80,17,78,14,"default"],[80,24,78,14],[80,25,78,15,"defaults"],[80,33,78,23],[80,34,78,24,"headers"],[80,41,78,31],[80,42,78,32,"common"],[80,48,78,38],[80,49,78,39],[80,64,78,54],[80,65,78,55],[81,6,79,4,"setUser"],[81,13,79,11],[81,14,79,12],[81,18,79,16],[81,19,79,17],[82,4,80,2],[82,5,80,3],[83,4,82,2],[83,10,82,8,"refreshUser"],[83,21,82,19],[83,24,82,22],[83,30,82,22,"refreshUser"],[83,31,82,22],[83,36,82,34],[84,6,83,4],[84,10,83,8],[85,8,84,6],[85,14,84,12,"response"],[85,22,84,20],[85,25,84,23],[85,31,84,29,"api"],[85,34,84,32],[85,35,84,32,"default"],[85,42,84,32],[85,43,84,33,"get"],[85,46,84,36],[85,47,84,37],[85,57,84,47],[85,58,84,48],[86,8,85,6,"setUser"],[86,15,85,13],[86,16,85,14,"response"],[86,24,85,22],[86,25,85,23,"data"],[86,29,85,27],[86,30,85,28],[87,6,86,4],[87,7,86,5],[87,8,86,6],[87,15,86,13,"error"],[87,20,86,18],[87,22,86,20],[88,8,87,6],[88,14,87,12,"logout"],[88,20,87,18],[88,21,87,19],[88,22,87,20],[89,6,88,4],[90,4,89,2],[90,5,89,3],[91,4,91,2],[91,24,92,4],[91,28,92,4,"_reactJsxDevRuntime"],[91,47,92,4],[91,48,92,4,"jsxDEV"],[91,54,92,4],[91,56,92,5,"AuthContext"],[91,67,92,16],[91,68,92,17,"Provider"],[91,76,92,25],[92,6,92,26,"value"],[92,11,92,31],[92,13,92,33],[93,8,92,35,"user"],[93,12,92,39],[94,8,92,41,"loading"],[94,15,92,48],[95,8,92,50,"login"],[95,13,92,55],[96,8,92,57,"register"],[96,16,92,65],[97,8,92,67,"logout"],[97,14,92,73],[98,8,92,75,"refreshUser"],[99,6,92,87],[99,7,92,89],[100,6,92,89,"children"],[100,14,92,89],[100,16,93,7,"children"],[101,4,93,15],[102,6,93,15,"fileName"],[102,14,93,15],[102,16,93,15,"_jsxFileName"],[102,28,93,15],[103,6,93,15,"lineNumber"],[103,16,93,15],[104,6,93,15,"columnNumber"],[104,18,93,15],[105,4,93,15],[105,11,94,26],[105,12,94,27],[106,2,96,0],[106,3,96,1],[107,2,98,7],[107,8,98,13,"useAuth"],[107,15,98,20],[107,18,98,23,"useAuth"],[107,19,98,23],[107,24,98,29],[108,4,99,2],[108,10,99,8,"context"],[108,17,99,15],[108,20,99,18],[108,24,99,18,"useContext"],[108,30,99,28],[108,31,99,28,"useContext"],[108,41,99,28],[108,43,99,29,"AuthContext"],[108,54,99,40],[108,55,99,41],[109,4,100,2],[109,8,100,6,"context"],[109,15,100,13],[109,20,100,18,"undefined"],[109,29,100,27],[109,31,100,29],[110,6,101,4],[110,12,101,10],[110,16,101,14,"Error"],[110,21,101,19],[110,22,101,20],[110,67,101,65],[110,68,101,66],[111,4,102,2],[112,4,103,2],[112,11,103,9,"context"],[112,18,103,16],[113,2,104,0],[113,3,104,1],[114,0,104,2],[114,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;+DCiC;YCI;GDE;oBEE;GFc;gBGE;GHO;mBIE;GJO;iBKE;GLI;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}