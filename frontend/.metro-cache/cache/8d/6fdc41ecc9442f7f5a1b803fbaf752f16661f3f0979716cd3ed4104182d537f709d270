{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return l}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return c}});var t=r(d[0]),u=e(r(d[1])),o=e(r(d[2])),n=r(d[3]);const s=(0,t.createContext)(void 0),l=({children:e})=>{const[l,c]=(0,t.useState)(null),[f,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{w()},[]);const w=async()=>{try{const e=await u.default.getItem('auth_token');if(e){o.default.defaults.headers.common.Authorization=`Bearer ${e}`;const t=await o.default.get('/auth/me');c(t.data)}}catch(e){await u.default.removeItem('auth_token'),delete o.default.defaults.headers.common.Authorization}finally{h(!1)}},_=async()=>{await u.default.removeItem('auth_token'),delete o.default.defaults.headers.common.Authorization,c(null)};return(0,n.jsx)(s.Provider,{value:{user:l,loading:f,login:async(e,t)=>{const n=await o.default.post('/auth/login',{email:e,password:t}),{access_token:s,user:l}=n.data;await u.default.setItem('auth_token',s),o.default.defaults.headers.common.Authorization=`Bearer ${s}`,c(l)},register:async e=>{const t=await o.default.post('/auth/register',e),{access_token:n,user:s}=t.data;await u.default.setItem('auth_token',n),o.default.defaults.headers.common.Authorization=`Bearer ${n}`,c(s)},logout:_,refreshUser:async()=>{try{const e=await o.default.get('/auth/me');c(e.data)}catch(e){await _()}}},children:e})},c=()=>{const e=(0,t.useContext)(s);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e}});","lineCount":1,"map":[[1,143,34,0,"Object"],[1,150,34,0,"defineProperty"],[1,165,34,0,"_e"],[1,168,34,0],[1,184,34,0,"enumerable"],[1,196,34,0],[1,198,34,0,"get"],[1,202,34,0],[1,220,34,0,"AuthProvider"],[1,221,34,0],[1,225,98,0,"Object"],[1,232,98,0,"defineProperty"],[1,247,98,0,"_e"],[1,250,98,0],[1,261,98,0,"enumerable"],[1,273,98,0],[1,275,98,0,"get"],[1,279,98,0],[1,297,98,0,"useAuth"],[1,298,98,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"api"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,34,"_reactJsxRuntime"],[1,344,3,34,"r"],[1,346,3,34,"d"],[1,348,3,34],[1,352,32,0],[1,358,32,6,"AuthContext"],[1,361,32,20],[1,363,32,20,"createContext"],[1,365,32,33,"createContext"],[1,385,32,63,"undefined"],[1,388,34,13,"AuthProvider"],[1,390,34,63,"AuthProvider"],[1,392,34,66,"children"],[1,407,35,2],[1,413,35,9,"user"],[1,415,35,15,"setUser"],[1,419,35,26],[1,421,35,26,"useState"],[1,423,35,34,"useState"],[1,433,35,48],[1,440,36,9,"loading"],[1,442,36,18,"setLoading"],[1,446,36,32],[1,448,36,32,"useState"],[1,450,36,40,"useState"],[1,461,36,41],[1,465,38,2],[1,467,38,2,"useEffect"],[1,469,38,11,"useEffect"],[1,480,38,12],[1,485,39,4,"checkAuth"],[1,490,40,5],[1,494,42,2],[1,500,42,8,"checkAuth"],[1,502,42,20,"async"],[1,512,43,4],[1,516,44,6],[1,522,44,12,"token"],[1,530,44,26,"AsyncStorage"],[1,532,44,38,"default"],[1,540,44,39,"getItem"],[1,548,44,47],[1,562,45,6],[1,565,45,10,"token"],[1,567,45,17],[1,568,46,8,"api"],[1,570,46,11,"default"],[1,578,46,12,"defaults"],[1,587,46,21,"headers"],[1,595,46,29,"common"],[1,602,46,51],[1,616,46,55],[1,626,46,65,"token"],[1,630,47,8],[1,636,47,14,"response"],[1,644,47,31,"api"],[1,646,47,34,"default"],[1,654,47,35,"get"],[1,658,47,39],[1,670,48,8,"setUser"],[1,672,48,16,"response"],[1,674,48,25,"data"],[1,679,49,6],[1,680,50,4],[1,681,50,6],[1,687,50,13,"error"],[1,696,51,12,"AsyncStorage"],[1,698,51,24,"default"],[1,706,51,25,"removeItem"],[1,717,51,36],[1,738,52,13,"api"],[1,740,52,16,"default"],[1,748,52,17,"defaults"],[1,757,52,26,"headers"],[1,765,52,34,"common"],[1,772,52,56],[1,785,53,4],[1,786,53,5],[1,794,54,6,"setLoading"],[1,797,54,17],[1,799,55,4],[1,802,76,8,"logout"],[1,804,76,17,"async"],[1,820,77,10,"AsyncStorage"],[1,822,77,22,"default"],[1,830,77,23,"removeItem"],[1,841,77,34],[1,862,78,11,"api"],[1,864,78,14,"default"],[1,872,78,15,"defaults"],[1,881,78,24,"headers"],[1,889,78,32,"common"],[1,896,78,54],[1,910,79,4,"setUser"],[1,912,79,12],[1,919,91,2],[1,926,92,4],[1,928,92,4,"_reactJsxRuntime"],[1,930,92,4,"jsx"],[1,935,92,5,"AuthContext"],[1,937,92,17,"Provider"],[1,946,92,25],[1,947,92,26,"value"],[1,953,92,33],[1,954,92,35,"user"],[1,961,92,41,"loading"],[1,971,92,50,"login"],[1,977,58,16,"async"],[1,983,58,23,"email"],[1,985,58,38,"password"],[1,990,59,4],[1,996,59,10,"response"],[1,1004,59,27,"api"],[1,1006,59,30,"default"],[1,1014,59,31,"post"],[1,1019,59,36],[1,1033,59,51],[1,1034,59,53,"email"],[1,1042,59,60,"password"],[1,1056,60,10,"access_token"],[1,1069,60,12,"access_token"],[1,1071,60,26,"user"],[1,1076,60,32,"userData"],[1,1079,60,45,"response"],[1,1081,60,54,"data"],[1,1092,62,10,"AsyncStorage"],[1,1094,62,22,"default"],[1,1102,62,23,"setItem"],[1,1110,62,31],[1,1123,62,45,"access_token"],[1,1126,63,4,"api"],[1,1128,63,7,"default"],[1,1136,63,8,"defaults"],[1,1145,63,17,"headers"],[1,1153,63,25,"common"],[1,1160,63,47],[1,1174,63,51],[1,1184,63,61,"access_token"],[1,1188,64,4,"setUser"],[1,1190,64,12,"userData"],[1,1194,92,57,"register"],[1,1203,67,19,"async"],[1,1213,68,4],[1,1219,68,10,"response"],[1,1227,68,27,"api"],[1,1229,68,30,"default"],[1,1237,68,31,"post"],[1,1242,68,36],[1,1259,68,54,"data"],[1,1263,69,10,"access_token"],[1,1276,69,12,"access_token"],[1,1278,69,26,"user"],[1,1283,69,32,"userData"],[1,1286,69,45,"response"],[1,1288,69,54,"data"],[1,1299,71,10,"AsyncStorage"],[1,1301,71,22,"default"],[1,1309,71,23,"setItem"],[1,1317,71,31],[1,1330,71,45,"access_token"],[1,1333,72,4,"api"],[1,1335,72,7,"default"],[1,1343,72,8,"defaults"],[1,1352,72,17,"headers"],[1,1360,72,25,"common"],[1,1367,72,47],[1,1381,72,51],[1,1391,72,61,"access_token"],[1,1395,73,4,"setUser"],[1,1397,73,12,"userData"],[1,1401,92,67,"logout"],[1,1410,92,75,"refreshUser"],[1,1422,82,22,"async"],[1,1432,83,4],[1,1436,84,6],[1,1442,84,12,"response"],[1,1450,84,29,"api"],[1,1452,84,32,"default"],[1,1460,84,33,"get"],[1,1464,84,37],[1,1476,85,6,"setUser"],[1,1478,85,14,"response"],[1,1480,85,23,"data"],[1,1485,86,4],[1,1486,86,6],[1,1492,86,13,"error"],[1,1501,87,12,"logout"],[1,1504,88,4],[1,1508,92,89,"children"],[1,1517,93,7,"children"],[1,1522,98,13,"useAuth"],[1,1524,98,23,"useAuth"],[1,1529,99,2],[1,1535,99,8,"context"],[1,1538,99,18],[1,1540,99,18,"useContext"],[1,1542,99,28,"useContext"],[1,1554,99,29,"AuthContext"],[1,1557,100,2],[1,1565,100,18,"undefined"],[1,1569,100,6,"context"],[1,1571,101,4],[1,1577,101,10],[1,1581,101,14,"Error"],[1,1587,101,20],[1,1634,103,2],[1,1641,103,9,"context"],[1,1643,104,2],[1,1646]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;+DCiC;YCI;GDE;oBEE;GFc;gBGE;GHO;mBIE;GJO;iBKE;GLI;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}