{"dependencies":[{"name":"stream","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":28,"index":43}}],"key":"zqzemo30Pa+agKo6Jlvuf3baHHA=","exportNames":["*"],"imports":1}},{"name":"../utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":44},"end":{"line":4,"column":32,"index":76}}],"key":"dGswK136diHRCgUa8xpQUn/UMbc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){'use strict';function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return l}});var t=e(r(d[0],\"stream\")),n=e(r(d[1],\"../utils.js\"));const s=Symbol('internals');class u extends t.default.Transform{constructor(e){super({readableHighWaterMark:(e=n.default.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!n.default.isUndefined(t[e]))).chunkSize});const t=this[s]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on('newListener',e=>{'progress'===e&&(t.isCaptured||(t.isCaptured=!0))})}_read(e){const t=this[s];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,n){const u=this[s],l=u.maxRate,o=this.readableHighWaterMark,c=u.timeWindow,b=l/(1e3/c),f=!1!==u.minChunkSize?Math.max(u.minChunkSize,.01*b):0,h=(e,t)=>{const n=Buffer.byteLength(e);u.bytesSeen+=n,u.bytes+=n,u.isCaptured&&this.emit('progress',u.bytesSeen),this.push(e)?process.nextTick(t):u.onReadCallback=()=>{u.onReadCallback=null,process.nextTick(t)}},k=(e,t)=>{const n=Buffer.byteLength(e);let s,k=null,y=o,p=0;if(l){const e=Date.now();(!u.ts||(p=e-u.ts)>=c)&&(u.ts=e,s=b-u.bytes,u.bytes=s<0?-s:0,p=0),s=b-u.bytes}if(l){if(s<=0)return setTimeout(()=>{t(null,e)},c-p);s<y&&(y=s)}y&&n>y&&n-y>f&&(k=e.subarray(y),e=e.subarray(0,y)),h(e,k?()=>{process.nextTick(t,null,k)}:t)};k(e,function e(t,s){if(t)return n(t);s?k(s,e):n(null)})}}var l=u});","lineCount":1,"map":[[1,29,1,0],[1,42,1,13],[1,51,1,13,"_interopDefault"],[1,53,1,13,"e"],[1,56,1,13],[1,63,1,13,"e"],[1,68,1,13,"__esModule"],[1,79,1,13,"e"],[1,81,1,13],[1,82,1,13,"default"],[1,90,1,13,"e"],[1,92,1,13],[1,93,1,13,"Object"],[1,100,1,13,"defineProperty"],[1,115,1,13,"_e"],[1,118,1,13],[1,132,1,13,"value"],[1,139,1,13],[1,143,143,0,"Object"],[1,150,143,0,"defineProperty"],[1,165,143,0,"_e"],[1,168,143,0],[1,179,143,0,"enumerable"],[1,191,143,0],[1,193,143,0,"get"],[1,197,143,0],[1,215,143,0,"_default"],[1,216,143,0],[1,220,3,0],[1,224,3,0,"stream"],[1,226,3,0,"_interopDefault"],[1,228,3,0,"r"],[1,230,3,0,"d"],[1,232,3,0],[1,246,4,0,"utils"],[1,248,4,0,"_interopDefault"],[1,250,4,0,"r"],[1,252,4,0,"d"],[1,254,4,0],[1,273,6,0],[1,279,6,6,"kInternals"],[1,281,6,19,"Symbol"],[1,288,6,26],[1,301,8,0],[1,307,8,6,"AxiosTransformStream"],[1,317,8,35,"stream"],[1,319,8,41,"default"],[1,327,8,42,"Transform"],[1,337,9,2,"constructor"],[1,349,9,14,"options"],[1,352,21,4,"super"],[1,358,21,10],[1,359,22,6,"readableHighWaterMark"],[1,382,10,4,"options"],[1,384,10,14,"utils"],[1,386,10,19,"default"],[1,394,10,20,"toFlatObject"],[1,407,10,33,"options"],[1,409,10,42],[1,410,11,6,"maxRate"],[1,418,11,15],[1,420,12,6,"chunkSize"],[1,430,12,17],[1,436,13,6,"minChunkSize"],[1,449,13,20],[1,453,14,6,"timeWindow"],[1,464,14,18],[1,468,15,6,"ticksRate"],[1,478,15,17],[1,480,16,6,"samplesCount"],[1,493,16,20],[1,497,17,7],[1,502,17,13],[1,503,17,14,"prop"],[1,505,17,20,"source"],[1,510,18,14,"utils"],[1,512,18,19,"default"],[1,520,18,20,"isUndefined"],[1,532,18,32,"source"],[1,534,18,39,"prop"],[1,540,22,37,"chunkSize"],[1,552,25,4],[1,558,25,10,"internals"],[1,560,25,22,"this"],[1,565,25,27,"kInternals"],[1,568,25,41],[1,569,26,6,"timeWindow"],[1,580,26,18,"options"],[1,582,26,26,"timeWindow"],[1,593,27,6,"chunkSize"],[1,603,27,17,"options"],[1,605,27,25,"chunkSize"],[1,615,28,6,"maxRate"],[1,623,28,15,"options"],[1,625,28,23,"maxRate"],[1,633,29,6,"minChunkSize"],[1,646,29,20,"options"],[1,648,29,28,"minChunkSize"],[1,661,30,6,"bytesSeen"],[1,671,30,17],[1,673,31,6,"isCaptured"],[1,685,31,18],[1,687,32,6,"notifiedBytesLoaded"],[1,707,32,27],[1,709,33,6,"ts"],[1,712,33,10,"Date"],[1,717,33,15,"now"],[1,723,34,6,"bytes"],[1,729,34,13],[1,731,35,6,"onReadCallback"],[1,746,35,22],[1,752,38,4,"this"],[1,757,38,9,"on"],[1,760,38,12],[1,774,38,27,"event"],[1,778,39,20],[1,791,39,10,"event"],[1,795,40,13,"internals"],[1,797,40,23,"isCaptured"],[1,810,41,10,"internals"],[1,812,41,20,"isCaptured"],[1,824,41,33],[1,829,45,2],[1,830,47,2,"_read"],[1,836,47,8,"size"],[1,839,48,4],[1,845,48,10,"internals"],[1,847,48,22,"this"],[1,852,48,27,"kInternals"],[1,855,54,4],[1,862,50,8,"internals"],[1,864,50,18,"onReadCallback"],[1,880,51,6,"internals"],[1,882,51,16,"onReadCallback"],[1,899,54,11,"super"],[1,905,54,17,"_read"],[1,911,54,23,"size"],[1,913,55,2],[1,914,57,2,"_transform"],[1,925,57,13,"chunk"],[1,927,57,20,"encoding"],[1,929,57,30,"callback"],[1,932,58,4],[1,938,58,10,"internals"],[1,940,58,22,"this"],[1,945,58,27,"kInternals"],[1,948,59,10,"maxRate"],[1,950,59,20,"internals"],[1,952,59,30,"maxRate"],[1,960,61,10,"readableHighWaterMark"],[1,962,61,34,"this"],[1,967,61,39,"readableHighWaterMark"],[1,989,63,10,"timeWindow"],[1,991,63,23,"internals"],[1,993,63,33,"timeWindow"],[1,1004,66,10,"bytesThreshold"],[1,1006,66,28,"maxRate"],[1,1009,65,20],[1,1013,65,27,"timeWindow"],[1,1016,67,10,"minChunkSize"],[1,1019,67,52],[1,1023,67,25,"internals"],[1,1025,67,35,"minChunkSize"],[1,1038,67,60,"Math"],[1,1043,67,65,"max"],[1,1047,67,69,"internals"],[1,1049,67,79,"minChunkSize"],[1,1062,67,110],[1,1066,67,93,"bytesThreshold"],[1,1069,67,118],[1,1071,69,10,"pushChunk"],[1,1073,69,22,"pushChunk"],[1,1074,69,23,"_chunk"],[1,1076,69,31,"_callback"],[1,1081,70,6],[1,1087,70,12,"bytes"],[1,1089,70,20,"Buffer"],[1,1096,70,27,"byteLength"],[1,1107,70,38,"_chunk"],[1,1110,71,6,"internals"],[1,1112,71,16,"bytesSeen"],[1,1123,71,29,"bytes"],[1,1125,72,6,"internals"],[1,1127,72,16,"bytes"],[1,1134,72,25,"bytes"],[1,1136,74,6,"internals"],[1,1138,74,16,"isCaptured"],[1,1150,74,30,"this"],[1,1155,74,35,"emit"],[1,1160,74,40],[1,1171,74,52,"internals"],[1,1173,74,62,"bytesSeen"],[1,1184,76,10,"this"],[1,1189,76,15,"push"],[1,1194,76,20,"_chunk"],[1,1197,77,8,"process"],[1,1205,77,16,"nextTick"],[1,1214,77,25,"_callback"],[1,1217,79,8,"internals"],[1,1219,79,18,"onReadCallback"],[1,1234,79,35],[1,1239,80,10,"internals"],[1,1241,80,20,"onReadCallback"],[1,1256,80,37],[1,1261,81,10,"process"],[1,1269,81,18,"nextTick"],[1,1278,81,27,"_callback"],[1,1283,86,10,"transformChunk"],[1,1285,86,27,"transformChunk"],[1,1286,86,28,"_chunk"],[1,1288,86,36,"_callback"],[1,1293,87,6],[1,1299,87,12,"chunkSize"],[1,1301,87,24,"Buffer"],[1,1308,87,31,"byteLength"],[1,1319,87,42,"_chunk"],[1,1322,88,6],[1,1326,90,10,"bytesLeft"],[1,1328,88,10,"chunkRemainder"],[1,1330,88,27],[1,1335,89,10,"maxChunkSize"],[1,1337,89,25,"readableHighWaterMark"],[1,1339,91,10,"passed"],[1,1341,91,19],[1,1343,93,6],[1,1346,93,10,"maxRate"],[1,1348,93,19],[1,1349,94,8],[1,1355,94,14,"now"],[1,1357,94,20,"Date"],[1,1362,94,25,"now"],[1,1370,96,13,"internals"],[1,1372,96,23,"ts"],[1,1377,96,30,"passed"],[1,1379,96,40,"now"],[1,1381,96,46,"internals"],[1,1383,96,56,"ts"],[1,1388,96,64,"timeWindow"],[1,1393,97,10,"internals"],[1,1395,97,20,"ts"],[1,1398,97,25,"now"],[1,1400,98,10,"bytesLeft"],[1,1402,98,22,"bytesThreshold"],[1,1404,98,39,"internals"],[1,1406,98,49,"bytes"],[1,1412,99,10,"internals"],[1,1414,99,20,"bytes"],[1,1420,99,28,"bytesLeft"],[1,1422,99,40],[1,1425,99,45,"bytesLeft"],[1,1427,99,57],[1,1429,100,10,"passed"],[1,1431,100,19],[1,1434,103,8,"bytesLeft"],[1,1436,103,20,"bytesThreshold"],[1,1438,103,37,"internals"],[1,1440,103,47,"bytes"],[1,1445,104,6],[1,1446,106,6],[1,1449,106,10,"maxRate"],[1,1451,106,19],[1,1452,107,8],[1,1455,107,12,"bytesLeft"],[1,1458,107,25],[1,1460,109,10],[1,1467,109,17,"setTimeout"],[1,1478,109,28],[1,1483,110,12,"_callback"],[1,1485,110,22],[1,1490,110,28,"_chunk"],[1,1494,111,13,"timeWindow"],[1,1496,111,26,"passed"],[1,1499,114,12,"bytesLeft"],[1,1501,114,24,"maxChunkSize"],[1,1505,115,10,"maxChunkSize"],[1,1507,115,25,"bytesLeft"],[1,1509,117,6],[1,1510,119,10,"maxChunkSize"],[1,1513,119,26,"chunkSize"],[1,1515,119,38,"maxChunkSize"],[1,1518,119,55,"chunkSize"],[1,1520,119,67,"maxChunkSize"],[1,1522,119,83,"minChunkSize"],[1,1526,120,8,"chunkRemainder"],[1,1528,120,25,"_chunk"],[1,1530,120,32,"subarray"],[1,1539,120,41,"maxChunkSize"],[1,1542,121,8,"_chunk"],[1,1544,121,17,"_chunk"],[1,1546,121,24,"subarray"],[1,1555,121,33],[1,1557,121,36,"maxChunkSize"],[1,1561,124,6,"pushChunk"],[1,1563,124,16,"_chunk"],[1,1565,124,24,"chunkRemainder"],[1,1567,124,41],[1,1572,125,8,"process"],[1,1580,125,16,"nextTick"],[1,1589,125,25,"_callback"],[1,1591,125,36],[1,1596,125,42,"chunkRemainder"],[1,1600,126,10,"_callback"],[1,1604,129,4,"transformChunk"],[1,1606,129,19,"chunk"],[1,1608,129,26],[1,1617,129,35,"transformNextChunk"],[1,1619,129,54,"err"],[1,1621,129,59,"_chunk"],[1,1624,130,6],[1,1627,130,10,"err"],[1,1629,131,8],[1,1636,131,15,"callback"],[1,1638,131,24,"err"],[1,1641,134,10,"_chunk"],[1,1643,135,8,"transformChunk"],[1,1645,135,23,"_chunk"],[1,1647,135,31,"transformNextChunk"],[1,1650,137,8,"callback"],[1,1652,137,17],[1,1657,139,4],[1,1659,140,2],[1,1661,143,0],[1,1665,143,0,"_default"],[1,1667,143,15,"AxiosTransformStream"],[1,1668,143,36],[1,1671]],"functionMap":{"names":["<global>","AxiosTransformStream","constructor","utils.toFlatObject$argument_3","on$argument_1","_read","_transform","pushChunk","internals.onReadCallback","transformChunk","setTimeout$argument_0","<anonymous>","transformNextChunk"],"mappings":"AAA;ACO;ECC;aCQ;KDE;2BEmB;KFM;GDC;EIE;GJQ;EKE;sBCY;mCCU;SDG;KDE;2BGE;4BCuB;WDE;yCEa;OFE;KHC;0BME;KNU;GLC;CDC"},"hasCjsExports":false},"type":"js/module"}]}