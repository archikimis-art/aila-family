{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":48,"index":179}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":180},"end":{"line":4,"column":33,"index":213}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AdsContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // AdMob Test IDs (replace with real IDs in production)\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AdsProvider = AdsProvider;\n  exports.useAds = useAds;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const TEST_BANNER_ID = Platform.default.select({\n    ios: 'ca-app-pub-3940256099942544/2934735716',\n    android: 'ca-app-pub-3940256099942544/6300978111',\n    default: 'ca-app-pub-3940256099942544/6300978111'\n  });\n  const TEST_INTERSTITIAL_ID = Platform.default.select({\n    ios: 'ca-app-pub-3940256099942544/4411468910',\n    android: 'ca-app-pub-3940256099942544/1033173712',\n    default: 'ca-app-pub-3940256099942544/1033173712'\n  });\n  const AdsContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AdsProvider({\n    children\n  }) {\n    _s();\n    const {\n      user\n    } = (0, _AuthContext.useAuth)();\n    const [isPremium, setIsPremium] = (0, _react.useState)(false);\n    const [subscriptionPlan, setSubscriptionPlan] = (0, _react.useState)(null);\n    const [actionCount, setActionCount] = (0, _react.useState)(0);\n\n    // Determine if we should show ads\n    const showAds = !isPremium;\n    const refreshPremiumStatus = async () => {\n      if (!user) {\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n        return;\n      }\n      try {\n        const response = await api.default.get('/stripe/subscription-status');\n        const data = response.data;\n\n        // User is premium if they have an active subscription or lifetime purchase\n        const isActive = data.status === 'active' || data.status === 'lifetime';\n        setIsPremium(isActive);\n        setSubscriptionPlan(data.plan || null);\n      } catch (error) {\n        console.log('Error checking premium status:', error);\n        setIsPremium(false);\n        setSubscriptionPlan(null);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      refreshPremiumStatus();\n    }, [user]);\n    const incrementAction = () => {\n      setActionCount(prev => prev + 1);\n    };\n    const shouldShowInterstitial = () => {\n      // Show interstitial every 5 actions for free users\n      if (isPremium) return false;\n      return actionCount > 0 && actionCount % 5 === 0;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AdsContext.Provider, {\n      value: {\n        isPremium,\n        showAds,\n        bannerId: TEST_BANNER_ID,\n        interstitialId: TEST_INTERSTITIAL_ID,\n        actionCount,\n        incrementAction,\n        shouldShowInterstitial,\n        refreshPremiumStatus,\n        subscriptionPlan\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AdsProvider, \"9iXPGY/P6qB9QJQbQXZbZllZi3o=\", false, function () {\n    return [_AuthContext.useAuth];\n  });\n  _c = AdsProvider;\n  function useAds() {\n    _s2();\n    const context = (0, _react.useContext)(AdsContext);\n    if (context === undefined) {\n      throw new Error('useAds must be used within an AdsProvider');\n    }\n    return context;\n  }\n  _s2(useAds, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AdsProvider\");\n});","lineCount":113,"map":[[6,26,6,0],[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"value"],[8,9,6,0],[9,2,6,0],[10,2,6,0],[10,11,6,0,"_interopDefault"],[10,27,6,0,"e"],[10,28,6,0],[11,4,6,0],[11,11,6,0,"e"],[11,12,6,0],[11,16,6,0,"e"],[11,17,6,0],[11,18,6,0,"__esModule"],[11,28,6,0],[11,31,6,0,"e"],[11,32,6,0],[12,6,6,0,"default"],[12,13,6,0],[12,15,6,0,"e"],[13,4,6,0],[14,2,6,0],[15,2,33,0,"exports"],[15,9,33,0],[15,10,33,0,"AdsProvider"],[15,21,33,0],[15,24,33,0,"AdsProvider"],[15,35,33,0],[16,2,97,0,"exports"],[16,9,97,0],[16,10,97,0,"useAds"],[16,16,97,0],[16,19,97,0,"useAds"],[16,25,97,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,1,89],[18,6,1,89,"_reactNativeWebDistExportsPlatform"],[18,40,1,89],[18,43,1,89,"require"],[18,50,1,89],[18,51,1,89,"_dependencyMap"],[18,65,1,89],[19,2,1,89],[19,6,1,89,"Platform"],[19,14,1,89],[19,17,1,89,"_interopDefault"],[19,32,1,89],[19,33,1,89,"_reactNativeWebDistExportsPlatform"],[19,67,1,89],[20,2,3,0],[20,6,3,0,"_AuthContext"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,4,0],[21,6,4,0,"_servicesApi"],[21,18,4,0],[21,21,4,0,"require"],[21,28,4,0],[21,29,4,0,"_dependencyMap"],[21,43,4,0],[22,2,4,0],[22,6,4,0,"api"],[22,9,4,0],[22,12,4,0,"_interopDefault"],[22,27,4,0],[22,28,4,0,"_servicesApi"],[22,40,4,0],[23,2,4,33],[23,6,4,33,"_reactJsxDevRuntime"],[23,25,4,33],[23,28,4,33,"require"],[23,35,4,33],[23,36,4,33,"_dependencyMap"],[23,50,4,33],[24,2,7,0],[24,8,7,6,"TEST_BANNER_ID"],[24,22,7,20],[24,25,7,23,"Platform"],[24,33,7,31],[24,34,7,31,"default"],[24,41,7,31],[24,42,7,32,"select"],[24,48,7,38],[24,49,7,39],[25,4,8,2,"ios"],[25,7,8,5],[25,9,8,7],[25,49,8,47],[26,4,9,2,"android"],[26,11,9,9],[26,13,9,11],[26,53,9,51],[27,4,10,2,"default"],[27,11,10,9],[27,13,10,11],[28,2,11,0],[28,3,11,1],[28,4,11,2],[29,2,13,0],[29,8,13,6,"TEST_INTERSTITIAL_ID"],[29,28,13,26],[29,31,13,29,"Platform"],[29,39,13,37],[29,40,13,37,"default"],[29,47,13,37],[29,48,13,38,"select"],[29,54,13,44],[29,55,13,45],[30,4,14,2,"ios"],[30,7,14,5],[30,9,14,7],[30,49,14,47],[31,4,15,2,"android"],[31,11,15,9],[31,13,15,11],[31,53,15,51],[32,4,16,2,"default"],[32,11,16,9],[32,13,16,11],[33,2,17,0],[33,3,17,1],[33,4,17,2],[34,2,31,0],[34,8,31,6,"AdsContext"],[34,18,31,16],[34,34,31,19],[34,38,31,19,"createContext"],[34,44,31,32],[34,45,31,32,"createContext"],[34,58,31,32],[34,60,31,61,"undefined"],[34,69,31,70],[34,70,31,71],[35,2,33,7],[35,11,33,16,"AdsProvider"],[35,22,33,27,"AdsProvider"],[35,23,33,28],[36,4,33,30,"children"],[37,2,33,64],[37,3,33,65],[37,5,33,67],[38,4,33,67,"_s"],[38,6,33,67],[39,4,34,2],[39,10,34,8],[40,6,34,10,"user"],[41,4,34,15],[41,5,34,16],[41,8,34,19],[41,12,34,19,"useAuth"],[41,24,34,26],[41,25,34,26,"useAuth"],[41,32,34,26],[41,34,34,27],[41,35,34,28],[42,4,35,2],[42,10,35,8],[42,11,35,9,"isPremium"],[42,20,35,18],[42,22,35,20,"setIsPremium"],[42,34,35,32],[42,35,35,33],[42,38,35,36],[42,42,35,36,"useState"],[42,48,35,44],[42,49,35,44,"useState"],[42,57,35,44],[42,59,35,45],[42,64,35,50],[42,65,35,51],[43,4,36,2],[43,10,36,8],[43,11,36,9,"subscriptionPlan"],[43,27,36,25],[43,29,36,27,"setSubscriptionPlan"],[43,48,36,46],[43,49,36,47],[43,52,36,50],[43,56,36,50,"useState"],[43,62,36,58],[43,63,36,58,"useState"],[43,71,36,58],[43,73,36,74],[43,77,36,78],[43,78,36,79],[44,4,37,2],[44,10,37,8],[44,11,37,9,"actionCount"],[44,22,37,20],[44,24,37,22,"setActionCount"],[44,38,37,36],[44,39,37,37],[44,42,37,40],[44,46,37,40,"useState"],[44,52,37,48],[44,53,37,48,"useState"],[44,61,37,48],[44,63,37,49],[44,64,37,50],[44,65,37,51],[46,4,39,2],[47,4,40,2],[47,10,40,8,"showAds"],[47,17,40,15],[47,20,40,18],[47,21,40,19,"isPremium"],[47,30,40,28],[48,4,42,2],[48,10,42,8,"refreshPremiumStatus"],[48,30,42,28],[48,33,42,31],[48,39,42,31,"refreshPremiumStatus"],[48,40,42,31],[48,45,42,43],[49,6,43,4],[49,10,43,8],[49,11,43,9,"user"],[49,15,43,13],[49,17,43,15],[50,8,44,6,"setIsPremium"],[50,20,44,18],[50,21,44,19],[50,26,44,24],[50,27,44,25],[51,8,45,6,"setSubscriptionPlan"],[51,27,45,25],[51,28,45,26],[51,32,45,30],[51,33,45,31],[52,8,46,6],[53,6,47,4],[54,6,49,4],[54,10,49,8],[55,8,50,6],[55,14,50,12,"response"],[55,22,50,20],[55,25,50,23],[55,31,50,29,"api"],[55,34,50,32],[55,35,50,32,"default"],[55,42,50,32],[55,43,50,33,"get"],[55,46,50,36],[55,47,50,37],[55,76,50,66],[55,77,50,67],[56,8,51,6],[56,14,51,12,"data"],[56,18,51,16],[56,21,51,19,"response"],[56,29,51,27],[56,30,51,28,"data"],[56,34,51,32],[58,8,53,6],[59,8,54,6],[59,14,54,12,"isActive"],[59,22,54,20],[59,25,54,23,"data"],[59,29,54,27],[59,30,54,28,"status"],[59,36,54,34],[59,41,54,39],[59,49,54,47],[59,53,54,51,"data"],[59,57,54,55],[59,58,54,56,"status"],[59,64,54,62],[59,69,54,67],[59,79,54,77],[60,8,55,6,"setIsPremium"],[60,20,55,18],[60,21,55,19,"isActive"],[60,29,55,27],[60,30,55,28],[61,8,56,6,"setSubscriptionPlan"],[61,27,56,25],[61,28,56,26,"data"],[61,32,56,30],[61,33,56,31,"plan"],[61,37,56,35],[61,41,56,39],[61,45,56,43],[61,46,56,44],[62,6,57,4],[62,7,57,5],[62,8,57,6],[62,15,57,13,"error"],[62,20,57,18],[62,22,57,20],[63,8,58,6,"console"],[63,15,58,13],[63,16,58,14,"log"],[63,19,58,17],[63,20,58,18],[63,52,58,50],[63,54,58,52,"error"],[63,59,58,57],[63,60,58,58],[64,8,59,6,"setIsPremium"],[64,20,59,18],[64,21,59,19],[64,26,59,24],[64,27,59,25],[65,8,60,6,"setSubscriptionPlan"],[65,27,60,25],[65,28,60,26],[65,32,60,30],[65,33,60,31],[66,6,61,4],[67,4,62,2],[67,5,62,3],[68,4,64,2],[68,8,64,2,"useEffect"],[68,14,64,11],[68,15,64,11,"useEffect"],[68,24,64,11],[68,26,64,12],[68,32,64,18],[69,6,65,4,"refreshPremiumStatus"],[69,26,65,24],[69,27,65,25],[69,28,65,26],[70,4,66,2],[70,5,66,3],[70,7,66,5],[70,8,66,6,"user"],[70,12,66,10],[70,13,66,11],[70,14,66,12],[71,4,68,2],[71,10,68,8,"incrementAction"],[71,25,68,23],[71,28,68,26,"incrementAction"],[71,29,68,26],[71,34,68,32],[72,6,69,4,"setActionCount"],[72,20,69,18],[72,21,69,19,"prev"],[72,25,69,23],[72,29,69,27,"prev"],[72,33,69,31],[72,36,69,34],[72,37,69,35],[72,38,69,36],[73,4,70,2],[73,5,70,3],[74,4,72,2],[74,10,72,8,"shouldShowInterstitial"],[74,32,72,30],[74,35,72,33,"shouldShowInterstitial"],[74,36,72,33],[74,41,72,48],[75,6,73,4],[76,6,74,4],[76,10,74,8,"isPremium"],[76,19,74,17],[76,21,74,19],[76,28,74,26],[76,33,74,31],[77,6,75,4],[77,13,75,11,"actionCount"],[77,24,75,22],[77,27,75,25],[77,28,75,26],[77,32,75,30,"actionCount"],[77,43,75,41],[77,46,75,44],[77,47,75,45],[77,52,75,50],[77,53,75,51],[78,4,76,2],[78,5,76,3],[79,4,78,2],[79,24,79,4],[79,28,79,4,"_reactJsxDevRuntime"],[79,47,79,4],[79,48,79,4,"jsxDEV"],[79,54,79,4],[79,56,79,5,"AdsContext"],[79,66,79,15],[79,67,79,16,"Provider"],[79,75,79,24],[80,6,80,6,"value"],[80,11,80,11],[80,13,80,13],[81,8,81,8,"isPremium"],[81,17,81,17],[82,8,82,8,"showAds"],[82,15,82,15],[83,8,83,8,"bannerId"],[83,16,83,16],[83,18,83,18,"TEST_BANNER_ID"],[83,32,83,32],[84,8,84,8,"interstitialId"],[84,22,84,22],[84,24,84,24,"TEST_INTERSTITIAL_ID"],[84,44,84,44],[85,8,85,8,"actionCount"],[85,19,85,19],[86,8,86,8,"incrementAction"],[86,23,86,23],[87,8,87,8,"shouldShowInterstitial"],[87,30,87,30],[88,8,88,8,"refreshPremiumStatus"],[88,28,88,28],[89,8,89,8,"subscriptionPlan"],[90,6,90,6],[90,7,90,8],[91,6,90,8,"children"],[91,14,90,8],[91,16,92,7,"children"],[92,4,92,15],[93,6,92,15,"fileName"],[93,14,92,15],[93,16,92,15,"_jsxFileName"],[93,28,92,15],[94,6,92,15,"lineNumber"],[94,16,92,15],[95,6,92,15,"columnNumber"],[95,18,92,15],[96,4,92,15],[96,11,93,25],[96,12,93,26],[97,2,95,0],[98,2,95,1,"_s"],[98,4,95,1],[98,5,33,16,"AdsProvider"],[98,16,33,27],[99,4,33,27],[99,12,34,19,"useAuth"],[99,24,34,26],[99,25,34,26,"useAuth"],[99,32,34,26],[100,2,34,26],[101,2,34,26,"_c"],[101,4,34,26],[101,7,33,16,"AdsProvider"],[101,18,33,27],[102,2,97,7],[102,11,97,16,"useAds"],[102,17,97,22,"useAds"],[102,18,97,22],[102,20,97,25],[103,4,97,25,"_s2"],[103,7,97,25],[104,4,98,2],[104,10,98,8,"context"],[104,17,98,15],[104,20,98,18],[104,24,98,18,"useContext"],[104,30,98,28],[104,31,98,28,"useContext"],[104,41,98,28],[104,43,98,29,"AdsContext"],[104,53,98,39],[104,54,98,40],[105,4,99,2],[105,8,99,6,"context"],[105,15,99,13],[105,20,99,18,"undefined"],[105,29,99,27],[105,31,99,29],[106,6,100,4],[106,12,100,10],[106,16,100,14,"Error"],[106,21,100,19],[106,22,100,20],[106,65,100,63],[106,66,100,64],[107,4,101,2],[108,4,102,2],[108,11,102,9,"context"],[108,18,102,16],[109,2,103,0],[110,2,103,1,"_s2"],[110,5,103,1],[110,6,97,16,"useAds"],[110,12,97,22],[111,2,97,22],[111,6,97,22,"_c"],[111,8,97,22],[112,2,97,22,"$RefreshReg$"],[112,14,97,22],[112,15,97,22,"_c"],[112,17,97,22],[113,0,97,22],[113,3]],"functionMap":{"names":["<global>","AdsProvider","refreshPremiumStatus","useEffect$argument_0","incrementAction","setActionCount$argument_0","shouldShowInterstitial","useAds"],"mappings":"AAA;OCgC;+BCS;GDoB;YEE;GFE;0BGE;mBCC,gBD;GHC;iCKE;GLI;CDmB;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}