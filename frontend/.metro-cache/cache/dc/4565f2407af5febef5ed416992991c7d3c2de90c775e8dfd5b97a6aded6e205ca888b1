{"dependencies":[{"name":"./vendor/eventemitter3","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":21,"index":36},"end":{"line":3,"column":54,"index":69}}],"key":"jJGG4W3dGzj/PN2Gsc+NKMZI37g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";const EventEmitter=r(d[0],\"./vendor/eventemitter3\"),inject=({module:[id,code],sourceURL:sourceURL})=>{g.globalEvalWithSourceUrl?g.globalEvalWithSourceUrl(code,sourceURL):eval(code)},injectUpdate=t=>{t.added.forEach(inject),t.modified.forEach(inject)};class HMRClient extends EventEmitter{_isEnabled=!1;_pendingUpdate=null;_queue=[];_state=\"opening\";constructor(t){super(),this._ws=new g.WebSocket(t),this._ws.onopen=()=>{this._state=\"open\",this.emit(\"open\"),this._flushQueue()},this._ws.onerror=t=>{this.emit(\"connection-error\",t)},this._ws.onclose=t=>{this._state=\"closed\",this.emit(\"close\",t)},this._ws.onmessage=t=>{const s=JSON.parse(String(t.data));switch(s.type){case\"bundle-registered\":this.emit(\"bundle-registered\");break;case\"update-start\":this.emit(\"update-start\",s.body);break;case\"update\":this.emit(\"update\",s.body);break;case\"update-done\":this.emit(\"update-done\");break;case\"error\":this.emit(\"error\",s.body);break;default:this.emit(\"error\",{type:\"unknown-message\",message:s})}},this.on(\"update\",t=>{this._isEnabled?injectUpdate(t):null==this._pendingUpdate?this._pendingUpdate=t:this._pendingUpdate=mergeUpdates(this._pendingUpdate,t)})}close(){this._ws.close()}send(t){switch(this._state){case\"opening\":this._queue.push(t);break;case\"open\":this._ws.send(t);break;case\"closed\":break;default:throw new Error(\"[WebSocketHMRClient] Unknown state: \"+this._state)}}_flushQueue(){this._queue.forEach(t=>this.send(t)),this._queue.length=0}enable(){this._isEnabled=!0;const t=this._pendingUpdate;this._pendingUpdate=null,null!=t&&injectUpdate(t)}disable(){this._isEnabled=!1}isEnabled(){return this._isEnabled}hasPendingUpdates(){return null!=this._pendingUpdate}}function mergeUpdates(t,s){const n=new Set,o=new Set,h=new Map;function c(t){t.deleted.forEach(t=>{n.has(t)?n.delete(t):o.add(t),h.delete(t)}),t.added.forEach(t=>{const s=t.module[0];o.has(s)?o.delete(s):n.add(s),h.set(s,t)}),t.modified.forEach(t=>{const s=t.module[0];h.set(s,t)})}c(t),c(s);const l={isInitialUpdate:s.isInitialUpdate,revisionId:s.revisionId,added:[],modified:[],deleted:[]};return o.forEach(t=>{l.deleted.push(t)}),h.forEach((t,s)=>{o.has(s)||(n.has(s)?l.added.push(t):l.modified.push(t))}),l}m.exports=HMRClient});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,47,3,6,"EventEmitter"],[1,60,3,21,"require"],[1,62,3,28,"d"],[1,64,3,28],[1,93,4,6,"inject"],[1,100,4,15,"inject"],[1,102,4,18,"module"],[1,110,4,27,"id"],[1,113,4,31,"code"],[1,119,4,38,"sourceURL"],[1,143,5,6,"global"],[1,145,5,13,"globalEvalWithSourceUrl"],[1,169,6,4,"global"],[1,171,6,11,"globalEvalWithSourceUrl"],[1,195,6,35,"code"],[1,200,6,41,"sourceURL"],[1,211,8,4,"eval"],[1,216,8,9,"code"],[1,223,11,6,"injectUpdate"],[1,236,11,22,"update"],[1,240,12,2,"update"],[1,242,12,9,"added"],[1,248,12,15,"forEach"],[1,256,12,23,"inject"],[1,264,13,2,"update"],[1,266,13,9,"modified"],[1,275,13,18,"forEach"],[1,283,13,26,"inject"],[1,292,15,0],[1,298,15,6,"HMRClient"],[1,316,15,24,"EventEmitter"],[1,329,16,2,"_isEnabled"],[1,341,16,15],[1,343,17,2,"_pendingUpdate"],[1,358,17,19],[1,363,18,2,"_queue"],[1,370,18,11],[1,373,19,2,"_state"],[1,380,19,11],[1,390,20,2,"constructor"],[1,402,20,14,"url"],[1,405,21,4,"super"],[1,413,22,4,"this"],[1,418,22,9,"_ws"],[1,422,22,15],[1,426,22,19,"global"],[1,428,22,26,"WebSocket"],[1,438,22,36,"url"],[1,441,23,4,"this"],[1,446,23,9,"_ws"],[1,450,23,13,"onopen"],[1,457,23,22],[1,462,24,6,"this"],[1,467,24,11,"_state"],[1,474,24,20],[1,481,25,6,"this"],[1,486,25,11,"emit"],[1,491,25,16],[1,499,26,6,"this"],[1,504,26,11,"_flushQueue"],[1,519,28,4,"this"],[1,524,28,9,"_ws"],[1,528,28,13,"onerror"],[1,536,28,24,"error"],[1,540,29,6,"this"],[1,545,29,11,"emit"],[1,550,29,16],[1,569,29,36,"error"],[1,573,31,4,"this"],[1,578,31,9,"_ws"],[1,582,31,13,"onclose"],[1,590,31,24,"closeEvent"],[1,594,32,6,"this"],[1,599,32,11,"_state"],[1,606,32,20],[1,615,33,6,"this"],[1,620,33,11,"emit"],[1,625,33,16],[1,633,33,25,"closeEvent"],[1,637,35,4,"this"],[1,642,35,9,"_ws"],[1,646,35,13,"onmessage"],[1,656,35,26,"message"],[1,660,36,6],[1,666,36,12,"data"],[1,668,36,19,"JSON"],[1,673,36,24,"parse"],[1,679,36,30,"String"],[1,686,36,37,"message"],[1,688,36,45,"data"],[1,695,37,6],[1,702,37,14,"data"],[1,704,37,19,"type"],[1,710,38,8],[1,714,38,13],[1,734,39,10,"this"],[1,739,39,15,"emit"],[1,744,39,20],[1,765,40,10],[1,771,41,8],[1,775,41,13],[1,790,42,10,"this"],[1,795,42,15,"emit"],[1,800,42,20],[1,815,42,36,"data"],[1,817,42,41,"body"],[1,823,43,10],[1,829,44,8],[1,833,44,13],[1,842,45,10,"this"],[1,847,45,15,"emit"],[1,852,45,20],[1,861,45,30,"data"],[1,863,45,35,"body"],[1,869,46,10],[1,875,47,8],[1,879,47,13],[1,893,48,10,"this"],[1,898,48,15,"emit"],[1,903,48,20],[1,918,49,10],[1,924,50,8],[1,928,50,13],[1,936,51,10,"this"],[1,941,51,15,"emit"],[1,946,51,20],[1,954,51,29,"data"],[1,956,51,34,"body"],[1,962,52,10],[1,968,53,8],[1,976,54,10,"this"],[1,981,54,15,"emit"],[1,986,54,20],[1,994,54,29],[1,995,55,12,"type"],[1,1000,55,18],[1,1018,56,12,"message"],[1,1026,56,21,"data"],[1,1032,60,4,"this"],[1,1037,60,9,"on"],[1,1040,60,12],[1,1049,60,23,"update"],[1,1053,61,10,"this"],[1,1058,61,15,"_isEnabled"],[1,1069,62,8,"injectUpdate"],[1,1082,62,21,"update"],[1,1085,63,40],[1,1091,63,17,"this"],[1,1096,63,22,"_pendingUpdate"],[1,1111,64,8,"this"],[1,1116,64,13,"_pendingUpdate"],[1,1131,64,30,"update"],[1,1133,66,8,"this"],[1,1138,66,13,"_pendingUpdate"],[1,1153,66,30,"mergeUpdates"],[1,1166,66,43,"this"],[1,1171,66,48,"_pendingUpdate"],[1,1186,66,64,"update"],[1,1190,69,2],[1,1191,70,2,"close"],[1,1199,71,4,"this"],[1,1204,71,9,"_ws"],[1,1208,71,13,"close"],[1,1215,72,2],[1,1216,73,2,"send"],[1,1221,73,7,"message"],[1,1224,74,4],[1,1231,74,12,"this"],[1,1236,74,17,"_state"],[1,1244,75,6],[1,1248,75,11],[1,1258,76,8,"this"],[1,1263,76,13,"_queue"],[1,1270,76,20,"push"],[1,1275,76,25,"message"],[1,1278,77,8],[1,1284,78,6],[1,1288,78,11],[1,1295,79,8,"this"],[1,1300,79,13,"_ws"],[1,1304,79,17,"send"],[1,1309,79,22,"message"],[1,1312,80,8],[1,1318,81,6],[1,1322,81,11],[1,1331,82,8],[1,1337,83,6],[1,1345,84,8],[1,1351,84,14],[1,1355,84,18,"Error"],[1,1361,84,24],[1,1400,84,65,"this"],[1,1405,84,70,"_state"],[1,1413,86,2],[1,1414,87,2,"_flushQueue"],[1,1428,88,4,"this"],[1,1433,88,9,"_queue"],[1,1440,88,16,"forEach"],[1,1448,88,25,"message"],[1,1451,88,37,"this"],[1,1456,88,42,"send"],[1,1461,88,47,"message"],[1,1465,89,4,"this"],[1,1470,89,9,"_queue"],[1,1477,89,16,"length"],[1,1484,89,25],[1,1485,90,2],[1,1486,91,2,"enable"],[1,1495,92,4,"this"],[1,1500,92,9,"_isEnabled"],[1,1512,92,22],[1,1514,93,4],[1,1520,93,10,"update"],[1,1522,93,19,"this"],[1,1527,93,24,"_pendingUpdate"],[1,1542,94,4,"this"],[1,1547,94,9,"_pendingUpdate"],[1,1562,94,26],[1,1567,95,18],[1,1573,95,8,"update"],[1,1576,96,6,"injectUpdate"],[1,1589,96,19,"update"],[1,1591,98,2],[1,1592,99,2,"disable"],[1,1602,100,4,"this"],[1,1607,100,9,"_isEnabled"],[1,1619,100,22],[1,1620,101,2],[1,1621,102,2,"isEnabled"],[1,1633,103,4],[1,1640,103,11,"this"],[1,1645,103,16,"_isEnabled"],[1,1655,104,2],[1,1656,105,2,"hasPendingUpdates"],[1,1676,106,4],[1,1683,106,34],[1,1689,106,11,"this"],[1,1694,106,16,"_pendingUpdate"],[1,1708,107,2],[1,1710,109,0],[1,1719,109,9,"mergeUpdates"],[1,1732,109,22,"base"],[1,1734,109,28,"next"],[1,1737,110,2],[1,1743,110,8,"addedIDs"],[1,1745,110,19],[1,1749,110,23,"Set"],[1,1753,111,8,"deletedIDs"],[1,1755,111,21],[1,1759,111,25,"Set"],[1,1763,112,8,"moduleMap"],[1,1765,112,20],[1,1769,112,24,"Map"],[1,1773,115,2],[1,1782,115,11,"applyUpdateLocally"],[1,1784,115,30,"update"],[1,1787,116,4,"update"],[1,1789,116,11,"deleted"],[1,1797,116,19,"forEach"],[1,1805,116,28,"id"],[1,1809,117,10,"addedIDs"],[1,1811,117,19,"has"],[1,1815,117,23,"id"],[1,1818,118,8,"addedIDs"],[1,1820,118,17,"delete"],[1,1827,118,24,"id"],[1,1830,120,8,"deletedIDs"],[1,1832,120,19,"add"],[1,1836,120,23,"id"],[1,1839,122,6,"moduleMap"],[1,1841,122,16,"delete"],[1,1848,122,23,"id"],[1,1853,124,4,"update"],[1,1855,124,11,"added"],[1,1861,124,17,"forEach"],[1,1869,124,26,"item"],[1,1873,125,6],[1,1879,125,12,"id"],[1,1881,125,17,"item"],[1,1883,125,22,"module"],[1,1890,125,29],[1,1893,126,10,"deletedIDs"],[1,1895,126,21,"has"],[1,1899,126,25,"id"],[1,1902,127,8,"deletedIDs"],[1,1904,127,19,"delete"],[1,1911,127,26,"id"],[1,1914,129,8,"addedIDs"],[1,1916,129,17,"add"],[1,1920,129,21,"id"],[1,1923,131,6,"moduleMap"],[1,1925,131,16,"set"],[1,1929,131,20,"id"],[1,1931,131,24,"item"],[1,1936,133,4,"update"],[1,1938,133,11,"modified"],[1,1947,133,20,"forEach"],[1,1955,133,29,"item"],[1,1959,134,6],[1,1965,134,12,"id"],[1,1967,134,17,"item"],[1,1969,134,22,"module"],[1,1976,134,29],[1,1979,135,6,"moduleMap"],[1,1981,135,16,"set"],[1,1985,135,20,"id"],[1,1987,135,24,"item"],[1,1991,137,2],[1,1992,113,2,"applyUpdateLocally"],[1,1994,113,21,"base"],[1,1997,114,2,"applyUpdateLocally"],[1,1999,114,21,"next"],[1,2002,138,2],[1,2008,138,8,"result"],[1,2010,138,17],[1,2011,139,4,"isInitialUpdate"],[1,2027,139,21,"next"],[1,2029,139,26,"isInitialUpdate"],[1,2045,140,4,"revisionId"],[1,2056,140,16,"next"],[1,2058,140,21,"revisionId"],[1,2069,141,4,"added"],[1,2075,141,11],[1,2078,142,4,"modified"],[1,2087,142,14],[1,2090,143,4,"deleted"],[1,2098,143,13],[1,2102,158,2],[1,2109,145,2,"deletedIDs"],[1,2111,145,13,"forEach"],[1,2119,145,22,"id"],[1,2123,146,4,"result"],[1,2125,146,11,"deleted"],[1,2133,146,19,"push"],[1,2138,146,24,"id"],[1,2143,148,2,"moduleMap"],[1,2145,148,12,"forEach"],[1,2153,148,20],[1,2154,148,21,"item"],[1,2156,148,27,"id"],[1,2161,149,8,"deletedIDs"],[1,2163,149,19,"has"],[1,2167,149,23,"id"],[1,2172,152,8,"addedIDs"],[1,2174,152,17,"has"],[1,2178,152,21,"id"],[1,2181,153,6,"result"],[1,2183,153,13,"added"],[1,2189,153,19,"push"],[1,2194,153,24,"item"],[1,2197,155,6,"result"],[1,2199,155,13,"modified"],[1,2208,155,22,"push"],[1,2213,155,27,"item"],[1,2219,158,9,"result"],[1,2220,159,0],[1,2221,160,0,"module"],[1,2223,160,7,"exports"],[1,2231,160,17,"HMRClient"],[1,2240,160,27],[1,2243]],"functionMap":{"names":["<global>","inject","injectUpdate","HMRClient","constructor","_ws.onopen","_ws.onerror","_ws.onclose","_ws.onmessage","on$argument_1","close","send","_flushQueue","_queue.forEach$argument_0","enable","disable","isEnabled","hasPendingUpdates","mergeUpdates","applyUpdateLocally","update.deleted.forEach$argument_0","update.added.forEach$argument_0","update.modified.forEach$argument_0","deletedIDs.forEach$argument_0","moduleMap.forEach$argument_0"],"mappings":"AAA;eCG;CDM;qBEC;CFG;AGC;ECK;sBCG;KDI;uBEC;KFE;uBGC;KHG;yBIC;KJwB;sBKC;KLQ;GDC;EOC;GPE;EQC;GRa;ESC;wBCC,+BD;GTE;EWC;GXO;EYC;GZE;EaC;GbE;EcC;GdE;CHC;AkBC;ECM;2BCC;KDO;yBEC;KFQ;4BGC;KHG;GDC;qBKQ;GLE;oBMC;GNS;ClBE"},"hasCjsExports":true},"type":"js/module"}]}