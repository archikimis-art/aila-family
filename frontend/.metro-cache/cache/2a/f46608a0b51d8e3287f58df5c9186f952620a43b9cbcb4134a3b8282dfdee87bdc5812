{"dependencies":[{"name":"util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":11,"index":11},"end":{"line":1,"column":26,"index":26}}],"key":"plO20G0zye191TqKMAMeOagk9EI=","exportNames":["*"],"imports":1}},{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":2,"column":13,"index":41},"end":{"line":2,"column":30,"index":58}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"],"imports":1}},{"name":"delayed-stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":20,"index":87},"end":{"line":3,"column":45,"index":112}}],"key":"akjVE2fUlnRYe53qREKp6bBCfhE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0],\"util\"),s=r(d[1],\"stream\").Stream,n=r(d[2],\"delayed-stream\");function o(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}m.exports=o,t.inherits(o,s),o.create=function(t){var s=new this;for(var n in t=t||{})s[n]=t[n];return s},o.isStreamLike=function(t){return'function'!=typeof t&&'string'!=typeof t&&'boolean'!=typeof t&&'number'!=typeof t&&!Buffer.isBuffer(t)},o.prototype.append=function(t){if(o.isStreamLike(t)){if(!(t instanceof n)){var s=n.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on('data',this._checkDataSize.bind(this)),t=s}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},o.prototype.pipe=function(t,n){return s.prototype.pipe.call(this,t,n),this.resume(),t},o.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},o.prototype._realGetNext=function(){var t=this._streams.shift();void 0!==t?'function'==typeof t?t(function(t){o.isStreamLike(t)&&(t.on('data',this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this)):this._pipeNext(t):this.end()},o.prototype._pipeNext=function(t){if(this._currentStream=t,o.isStreamLike(t))return t.on('end',this._getNext.bind(this)),void t.pipe(this,{end:!1});var s=t;this.write(s),this._getNext()},o.prototype._handleErrors=function(t){var s=this;t.on('error',function(t){s._emitError(t)})},o.prototype.write=function(t){this.emit('data',t)},o.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit('pause'))},o.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit('resume')},o.prototype.end=function(){this._reset(),this.emit('end')},o.prototype.destroy=function(){this._reset(),this.emit('close')},o.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},o.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t='DelayedStream#maxDataSize of '+this.maxDataSize+' bytes exceeded.';this._emitError(new Error(t))}},o.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(s){s.dataSize&&(t.dataSize+=s.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},o.prototype._emitError=function(t){this._reset(),this.emit('error',t)}});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"util"],[1,34,1,11,"require"],[1,36,1,18,"d"],[1,38,1,18],[1,49,2,4,"Stream"],[1,51,2,13,"require"],[1,53,2,20,"d"],[1,55,2,20],[1,68,2,31,"Stream"],[1,75,3,4,"DelayedStream"],[1,77,3,20,"require"],[1,79,3,27,"d"],[1,81,3,27],[1,102,6,0],[1,111,6,9,"CombinedStream"],[1,115,7,2,"this"],[1,120,7,7,"writable"],[1,130,7,18],[1,132,8,2,"this"],[1,137,8,7,"readable"],[1,147,8,18],[1,149,9,2,"this"],[1,154,9,7,"dataSize"],[1,163,9,18],[1,165,10,2,"this"],[1,170,10,7,"maxDataSize"],[1,182,10,21],[1,190,11,2,"this"],[1,195,11,7,"pauseStreams"],[1,209,11,22],[1,211,13,2,"this"],[1,216,13,7,"_released"],[1,227,13,19],[1,229,14,2,"this"],[1,234,14,7,"_streams"],[1,243,14,18],[1,246,15,2,"this"],[1,251,15,7,"_currentStream"],[1,266,15,24],[1,271,16,2,"this"],[1,276,16,7,"_insideLoop"],[1,289,16,21],[1,291,17,2,"this"],[1,296,17,7,"_pendingNext"],[1,310,17,22],[1,311,18,0],[1,312,5,0,"module"],[1,314,5,7,"exports"],[1,322,5,17,"CombinedStream"],[1,324,19,0,"util"],[1,326,19,5,"inherits"],[1,335,19,14,"CombinedStream"],[1,337,19,30,"Stream"],[1,340,21,0,"CombinedStream"],[1,342,21,15,"create"],[1,349,21,24],[1,358,21,33,"options"],[1,361,22,2],[1,365,22,6,"combinedStream"],[1,367,22,23],[1,371,22,27,"this"],[1,376,25,2],[1,380,25,7],[1,384,25,11,"option"],[1,389,24,2,"options"],[1,391,24,12,"options"],[1,394,24,23],[1,395,24,24],[1,397,26,4,"combinedStream"],[1,399,26,19,"option"],[1,402,26,29,"options"],[1,404,26,37,"option"],[1,407,29,2],[1,414,29,9,"combinedStream"],[1,415,30,0],[1,417,32,0,"CombinedStream"],[1,419,32,15,"isStreamLike"],[1,432,32,30],[1,441,32,39,"stream"],[1,444,33,2],[1,450,33,28],[1,469,33,17,"stream"],[1,472,34,26],[1,489,34,15,"stream"],[1,492,35,26],[1,510,35,15,"stream"],[1,513,36,26],[1,530,36,15,"stream"],[1,534,37,9,"Buffer"],[1,541,37,16,"isBuffer"],[1,550,37,25,"stream"],[1,552,38,0],[1,554,40,0,"CombinedStream"],[1,556,40,15,"prototype"],[1,566,40,25,"append"],[1,573,40,34],[1,582,40,43,"stream"],[1,585,43,2],[1,588,41,21,"CombinedStream"],[1,590,41,36,"isStreamLike"],[1,603,41,49,"stream"],[1,606,43,20],[1,607,44,4],[1,612,44,10,"stream"],[1,625,44,28,"DelayedStream"],[1,628,44,44],[1,629,45,6],[1,633,45,10,"newStream"],[1,635,45,22,"DelayedStream"],[1,637,45,36,"create"],[1,644,45,43,"stream"],[1,646,45,51],[1,647,46,8,"maxDataSize"],[1,659,46,21,"Infinity"],[1,663,47,8,"pauseStream"],[1,675,47,21,"this"],[1,680,47,26,"pauseStreams"],[1,695,49,6,"stream"],[1,697,49,13,"on"],[1,700,49,16],[1,707,49,24,"this"],[1,712,49,29,"_checkDataSize"],[1,727,49,44,"bind"],[1,732,49,49,"this"],[1,739,50,6,"stream"],[1,741,50,15,"newStream"],[1,742,51,4],[1,743,53,4,"this"],[1,748,53,9,"_handleErrors"],[1,762,53,23,"stream"],[1,765,55,8,"this"],[1,770,55,13,"pauseStreams"],[1,784,56,6,"stream"],[1,786,56,13,"pause"],[1,793,58,2],[1,794,61,2],[1,801,60,2,"this"],[1,806,60,7,"_streams"],[1,815,60,16,"push"],[1,820,60,21,"stream"],[1,823,61,9,"this"],[1,827,62,0],[1,829,64,0,"CombinedStream"],[1,831,64,15,"prototype"],[1,841,64,25,"pipe"],[1,846,64,32],[1,855,64,41,"dest"],[1,857,64,47,"options"],[1,860,67,2],[1,867,65,2,"Stream"],[1,869,65,9,"prototype"],[1,879,65,19,"pipe"],[1,884,65,24,"call"],[1,889,65,29,"this"],[1,894,65,35,"dest"],[1,896,65,41,"options"],[1,899,66,2,"this"],[1,904,66,7,"resume"],[1,913,67,9,"dest"],[1,914,68,0],[1,916,70,0,"CombinedStream"],[1,918,70,15,"prototype"],[1,928,70,25,"_getNext"],[1,937,70,36],[1,948,73,2],[1,951,71,2,"this"],[1,956,71,7,"_currentStream"],[1,971,71,24],[1,976,73,6,"this"],[1,981,73,11,"_insideLoop"],[1,993,74,4,"this"],[1,998,74,9,"_pendingNext"],[1,1012,74,24],[1,1018,73,2],[1,1019,78,2,"this"],[1,1024,78,7,"_insideLoop"],[1,1037,78,21],[1,1039,79,2],[1,1043,80,4],[1,1046,81,6,"this"],[1,1051,81,11,"_pendingNext"],[1,1065,81,26],[1,1067,82,6,"this"],[1,1072,82,11,"_realGetNext"],[1,1093,83,13,"this"],[1,1098,83,18,"_pendingNext"],[1,1111,84,2],[1,1112,84,3],[1,1120,85,4,"this"],[1,1125,85,9,"_insideLoop"],[1,1138,85,23],[1,1139,86,2],[1,1140,76,2],[1,1141,87,0],[1,1143,89,0,"CombinedStream"],[1,1145,89,15,"prototype"],[1,1155,89,25,"_realGetNext"],[1,1168,89,40],[1,1179,90,2],[1,1183,90,6,"stream"],[1,1185,90,15,"this"],[1,1190,90,20,"_streams"],[1,1199,90,29,"shift"],[1,1212,93,23],[1,1216,93,13,"stream"],[1,1218,98,24],[1,1237,98,13,"stream"],[1,1239,103,18,"stream"],[1,1241,104,12],[1,1250,104,21,"stream"],[1,1253,105,23,"CombinedStream"],[1,1255,105,38,"isStreamLike"],[1,1268,105,51,"stream"],[1,1273,107,6,"stream"],[1,1275,107,13,"on"],[1,1278,107,16],[1,1285,107,24,"this"],[1,1290,107,29,"_checkDataSize"],[1,1305,107,44,"bind"],[1,1310,107,49,"this"],[1,1317,108,6,"this"],[1,1322,108,11,"_handleErrors"],[1,1336,108,25,"stream"],[1,1340,111,4,"this"],[1,1345,111,9,"_pipeNext"],[1,1355,111,19,"stream"],[1,1357,112,2],[1,1359,112,4,"bind"],[1,1364,112,9,"this"],[1,1371,99,4,"this"],[1,1376,99,9,"_pipeNext"],[1,1386,99,19,"stream"],[1,1389,94,4,"this"],[1,1394,94,9,"end"],[1,1399,113,0],[1,1401,115,0,"CombinedStream"],[1,1403,115,15,"prototype"],[1,1413,115,25,"_pipeNext"],[1,1423,115,37],[1,1432,115,46,"stream"],[1,1435,119,2],[1,1438,116,2,"this"],[1,1443,116,7,"_currentStream"],[1,1458,116,24,"stream"],[1,1460,118,21,"CombinedStream"],[1,1462,118,36,"isStreamLike"],[1,1475,118,49,"stream"],[1,1478,122,4],[1,1485,120,4,"stream"],[1,1487,120,11,"on"],[1,1490,120,14],[1,1496,120,21,"this"],[1,1501,120,26,"_getNext"],[1,1510,120,35,"bind"],[1,1515,120,40,"this"],[1,1527,121,4,"stream"],[1,1529,121,11,"pipe"],[1,1534,121,16,"this"],[1,1539,121,22],[1,1540,121,23,"end"],[1,1545,121,28],[1,1549,125,2],[1,1553,125,6,"value"],[1,1555,125,14,"stream"],[1,1557,126,2,"this"],[1,1562,126,7,"write"],[1,1568,126,13,"value"],[1,1571,127,2,"this"],[1,1576,127,7,"_getNext"],[1,1586,128,0],[1,1588,130,0,"CombinedStream"],[1,1590,130,15,"prototype"],[1,1600,130,25,"_handleErrors"],[1,1614,130,41],[1,1623,130,50,"stream"],[1,1626,131,2],[1,1630,131,6,"self"],[1,1632,131,13,"this"],[1,1637,132,2,"stream"],[1,1639,132,9,"on"],[1,1642,132,12],[1,1650,132,21],[1,1659,132,30,"err"],[1,1662,133,4,"self"],[1,1664,133,9,"_emitError"],[1,1675,133,20,"err"],[1,1677,134,2],[1,1679,135,0],[1,1681,137,0,"CombinedStream"],[1,1683,137,15,"prototype"],[1,1693,137,25,"write"],[1,1699,137,33],[1,1708,137,42,"data"],[1,1711,138,2,"this"],[1,1716,138,7,"emit"],[1,1721,138,12],[1,1728,138,20,"data"],[1,1730,139,0],[1,1732,141,0,"CombinedStream"],[1,1734,141,15,"prototype"],[1,1744,141,25,"pause"],[1,1750,141,33],[1,1761,142,7,"this"],[1,1766,142,12,"pauseStreams"],[1,1781,146,5,"this"],[1,1786,146,10,"pauseStreams"],[1,1800,146,26,"this"],[1,1805,146,31,"_currentStream"],[1,1821,146,86],[1,1840,146,56,"this"],[1,1845,146,61,"_currentStream"],[1,1860,146,76,"pause"],[1,1867,146,98,"this"],[1,1872,146,103,"_currentStream"],[1,1887,146,118,"pause"],[1,1895,147,2,"this"],[1,1900,147,7,"emit"],[1,1905,147,12],[1,1914,148,0],[1,1916,150,0,"CombinedStream"],[1,1918,150,15,"prototype"],[1,1928,150,25,"resume"],[1,1935,150,34],[1,1946,151,7,"this"],[1,1951,151,12,"_released"],[1,1963,152,4,"this"],[1,1968,152,9,"_released"],[1,1979,152,21],[1,1981,153,4,"this"],[1,1986,153,9,"writable"],[1,1996,153,20],[1,1998,154,4,"this"],[1,2003,154,9,"_getNext"],[1,2015,157,5,"this"],[1,2020,157,10,"pauseStreams"],[1,2034,157,26,"this"],[1,2039,157,31,"_currentStream"],[1,2055,157,87],[1,2074,157,56,"this"],[1,2079,157,61,"_currentStream"],[1,2094,157,76,"resume"],[1,2102,157,99,"this"],[1,2107,157,104,"_currentStream"],[1,2122,157,119,"resume"],[1,2131,158,2,"this"],[1,2136,158,7,"emit"],[1,2141,158,12],[1,2150,159,0],[1,2152,161,0,"CombinedStream"],[1,2154,161,15,"prototype"],[1,2164,161,25,"end"],[1,2168,161,31],[1,2179,162,2,"this"],[1,2184,162,7,"_reset"],[1,2193,163,2,"this"],[1,2198,163,7,"emit"],[1,2203,163,12],[1,2209,164,0],[1,2211,166,0,"CombinedStream"],[1,2213,166,15,"prototype"],[1,2223,166,25,"destroy"],[1,2231,166,35],[1,2242,167,2,"this"],[1,2247,167,7,"_reset"],[1,2256,168,2,"this"],[1,2261,168,7,"emit"],[1,2266,168,12],[1,2274,169,0],[1,2276,171,0,"CombinedStream"],[1,2278,171,15,"prototype"],[1,2288,171,25,"_reset"],[1,2295,171,34],[1,2306,172,2,"this"],[1,2311,172,7,"writable"],[1,2321,172,18],[1,2323,173,2,"this"],[1,2328,173,7,"_streams"],[1,2337,173,18],[1,2340,174,2,"this"],[1,2345,174,7,"_currentStream"],[1,2360,174,24],[1,2364,175,0],[1,2366,177,0,"CombinedStream"],[1,2368,177,15,"prototype"],[1,2378,177,25,"_checkDataSize"],[1,2393,177,42],[1,2404,179,2],[1,2407,178,2,"this"],[1,2412,178,7,"_updateDataSize"],[1,2432,179,6,"this"],[1,2437,179,11,"dataSize"],[1,2447,179,23,"this"],[1,2452,179,28,"maxDataSize"],[1,2465,179,2],[1,2466,183,2],[1,2470,183,6,"message"],[1,2472,184,4],[1,2504,184,38,"this"],[1,2509,184,43,"maxDataSize"],[1,2521,184,57],[1,2540,185,2,"this"],[1,2545,185,7,"_emitError"],[1,2556,185,18],[1,2560,185,22,"Error"],[1,2566,185,28,"message"],[1,2569,181,2],[1,2570,186,0],[1,2572,188,0,"CombinedStream"],[1,2574,188,15,"prototype"],[1,2584,188,25,"_updateDataSize"],[1,2600,188,43],[1,2611,189,2,"this"],[1,2616,189,7,"dataSize"],[1,2625,189,18],[1,2627,191,2],[1,2631,191,6,"self"],[1,2633,191,13,"this"],[1,2638,192,2,"this"],[1,2643,192,7,"_streams"],[1,2652,192,16,"forEach"],[1,2660,192,24],[1,2669,192,33,"stream"],[1,2672,193,9,"stream"],[1,2674,193,16,"dataSize"],[1,2685,197,4,"self"],[1,2687,197,9,"dataSize"],[1,2697,197,21,"stream"],[1,2699,197,28,"dataSize"],[1,2708,198,2],[1,2711,200,6,"this"],[1,2716,200,11,"_currentStream"],[1,2732,200,29,"this"],[1,2737,200,34,"_currentStream"],[1,2752,200,49,"dataSize"],[1,2763,201,4,"this"],[1,2768,201,9,"dataSize"],[1,2778,201,21,"this"],[1,2783,201,26,"_currentStream"],[1,2798,201,41,"dataSize"],[1,2807,203,0],[1,2809,205,0,"CombinedStream"],[1,2811,205,15,"prototype"],[1,2821,205,25,"_emitError"],[1,2832,205,38],[1,2841,205,47,"err"],[1,2844,206,2,"this"],[1,2849,206,7,"_reset"],[1,2858,207,2,"this"],[1,2863,207,7,"emit"],[1,2868,207,12],[1,2876,207,21,"err"],[1,2878,208,0],[1,2879,208,2],[1,2882]],"functionMap":{"names":["<global>","CombinedStream","CombinedStream.create","CombinedStream.isStreamLike","CombinedStream.prototype.append","CombinedStream.prototype.pipe","CombinedStream.prototype._getNext","CombinedStream.prototype._realGetNext","<anonymous>","CombinedStream.prototype._pipeNext","CombinedStream.prototype._handleErrors","stream.on$argument_1","CombinedStream.prototype.write","CombinedStream.prototype.pause","CombinedStream.prototype.resume","CombinedStream.prototype.end","CombinedStream.prototype.destroy","CombinedStream.prototype._reset","CombinedStream.prototype._checkDataSize","CombinedStream.prototype._updateDataSize","_streams.forEach$argument_0","CombinedStream.prototype._emitError"],"mappings":"AAA;ACK;CDY;wBEG;CFS;8BGE;CHM;kCIE;CJsB;gCKE;CLI;oCME;CNiB;wCOE;YCe;GDQ;CPC;qCSE;CTa;yCUE;qBCE;GDE;CVC;iCYE;CZE;iCaE;CbO;kCcE;CdS;+BeE;CfG;mCgBE;ChBG;kCiBE;CjBI;0CkBE;ClBS;2CmBE;wBCI;GDM;CnBK;sCqBE;CrBG"},"hasCjsExports":true},"type":"js/module"}]}